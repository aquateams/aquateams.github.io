(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/qjD":function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("jvvO")),a=e("WKSk"),o=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.readonly=!1,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){this.init(this.code)},n.prototype.ngOnInit=function(){this.init(this.code)},n.prototype.init=function(t){var n=this;"new"===t?this.set(new a.a({})):this.get(t).subscribe(function(){n.properties.mute=[]})},n}(i.b);e("Cq0X"),e.d(n,"a",function(){return s});var s=function(t){function n(n,e,l){var i=t.call(this,n,e)||this;return i.uxService=e,i.validationService=l,i.view="editor",i.isShowMuteOptions=!1,i}return l.__extends(n,t),n.prototype.selectCategory=function(t){var n=this;this.selectedCategory=t,this.properties.category=t,this.selectedCategory.machines.forEach(function(t){t.id==n.properties.machine.toString()&&(n.properties.machine=t)})},n.prototype.onBrandSelect=function(t){this.properties.machine=t.value,t.value.port&&(this.properties.port=t.value.port)},n.prototype.toogleMuteoption=function(){this.isShowMuteOptions=!this.isShowMuteOptions},n.prototype.addTimeSlice=function(){this.properties.mute.push({start:"",end:""})},n.prototype.removeTimeSlice=function(t){this.properties.mute.splice(this.properties.mute.indexOf(t),1)},n.prototype.toggleMuteTimes=function(){var t=this;this.properties.mute.forEach(function(n,e){""==n.start&&t.uxService.handleError("invalid start time at position "+(e+1)),""==n.end&&t.uxService.handleError("invalid end time at position "+(e+1));var l=n.start.split(":"),i=n.end.split(":");n.start=new Date((new Date).setHours(parseInt(l[0]),parseInt(l[1]))).toISOString(),n.end=new Date((new Date).setHours(parseInt(i[0]),parseInt(i[1]))).toISOString()})},n.prototype.validate=function(){var t=!0;this.properties.bssid&&this.validationService.isBssidValid(this.properties.bssid)&&(t=!1,this.uxService.handleError(this.validationService.isBssidValid(this.properties.bssid))),this.properties.ip&&this.validationService.isIpAddressValid(this.properties.ip)&&(t=!1,this.uxService.handleError(this.validationService.isIpAddressValid(this.properties.ip))),t&&(this.toggleMuteTimes(),this.update(this.properties),this.isShowMuteOptions=!1,this.properties.mute=[])},n}(o)},"05It":function(t,n,e){"use strict";var l=e("A/U7"),i=e("WKSk"),a=e("mrSG"),o=function(t){function n(n){return t.call(this,n)||this}return a.__extends(n,t),n}(e("VHBb").a),s=function(){return function(t){t&&(this.firstName=t.firstName,this.lastName=t.lastName,this.fatherName=t.fatherName)}}(),u=e("x1iR");e.d(n,"a",function(){return r});var r=function(){return function(t){if(this.id="",this.name="",this.code="",this.designation="",this.department="",this.status="",this.picData="",this.picUrl="",this.email="",this.password="",this.phone="",this.biometricCode="",this.profile=new s,this.organization=new o,this.device=new i.a,this.shiftType=new u.a,this.avgHours=null,this.token="",this.abilities=new c,this.currentAblitiy="none",this.userType="normal",this.fingerPrints=[],this.devices=[],this.medLeave=!1,!t)return null;this.id=t.id,this.name=t.name,this.code=t.code,this.designation=t.designation,this.department=t.department,this.status=t.status,this.picData=t.picData,this.picUrl=t.picUrl,this.email=t.email,this.password=t.password,this.phone=t.phone,this.biometricCode=t.biometricCode,this.profile=new s(t.profile||{}),this.attendance=new l.a(t.attendance||{}),this.organization=new o(t.organization||{}),this.shiftType=new u.a(t.shiftType||{}),this.supervisor=t.supervisor,this.abilities=t.abilities,this.userType=t.userType,this.created_At=new Date(t.created_At||""),this.weeklyOff=t.weeklyOff}}(),c=function(){return function(){this.maualAttendance=!1,this.manualByBeacon=!1,this.manualByGeoFencing=!1,this.manualByWifi=!1,this.shiftNotifier=!1,this.trackLocation=!1}}()},"2WeK":function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("jvvO")),a=e("WKSk"),o=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.device=new a.a,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){},n.prototype.ngOnInit=function(){},n}(i.b);e("Cq0X"),e.d(n,"a",function(){return s});var s=function(t){function n(n,e,l){var i=t.call(this,n,e)||this;return i.uxService=e,i.validationService=l,i.isShowMuteOptions=!1,i}return l.__extends(n,t),n.prototype.selectCategory=function(t){this.selectedCategory=t,this.device.category=t},n.prototype.onBrandSelect=function(t){this.device.machine=t.value,t.value.port&&(this.device.port=t.value.port)},n.prototype.toogleMuteoption=function(){this.isShowMuteOptions=!this.isShowMuteOptions},n.prototype.addTimeSlice=function(){this.device.mute.push({start:"",end:""})},n.prototype.removeTimeSlice=function(t){this.device.mute.splice(this.device.mute.indexOf(t),1)},n.prototype.validate=function(){var t=!0;this.device.bssid&&this.validationService.isBssidValid(this.device.bssid)&&(t=!1,this.uxService.handleError(this.validationService.isBssidValid(this.device.bssid))),this.device.ip&&this.validationService.isIpAddressValid(this.device.ip)&&(t=!1,this.uxService.handleError(this.validationService.isIpAddressValid(this.device.ip))),t&&this.create(this.device)},n}(o)},"3ETI":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("wd/R"),i=(e("A/U7"),function(){function t(){this.isPast=!1,this.status="absent",this.secondHalfStatus="A",this.firstHalfStatus="A",this.class="absent",this.count=0}return t.prototype.setData=function(){this.isPast=l(this.attendance.ofDate).isBefore(new Date,"day"),this.attendance&&(this.attendance.firstHalfStatus||this.attendance.secondHalfStatus||("present"==this.attendance.status&&(this.attendance.firstHalfStatus="P",this.attendance.secondHalfStatus="P"),"absent"==this.attendance.status&&(this.attendance.firstHalfStatus="A",this.attendance.secondHalfStatus="A")),!this.attendance.firstHalfStatus&&this.attendance.secondHalfStatus&&(this.attendance.firstHalfStatus="A"),this.attendance.firstHalfStatus&&!this.attendance.secondHalfStatus&&(this.attendance.secondHalfStatus="A"),this.status=this.attendance.status,"weekOff"!=this.status&&"onLeave"!=this.status&&"holiday"!=this.status?("A"==this.attendance.firstHalfStatus&&"A"==this.attendance.secondHalfStatus&&(this.class="absent"),"P"==this.attendance.firstHalfStatus&&"P"==this.attendance.secondHalfStatus&&(this.class="present"),"P"==this.attendance.firstHalfStatus&&"A"==this.attendance.secondHalfStatus&&(this.class="first"),"A"==this.attendance.firstHalfStatus&&"P"==this.attendance.secondHalfStatus&&(this.class="second")):this.class="leave")},t.prototype.ngOnInit=function(){this.setData()},t.prototype.ngOnChanges=function(){this.setData()},t}())},"4tzZ":function(t,n,e){"use strict";var l=e("mrSG"),i=e("wd/R"),a=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){var n=this;this.get(this.code).subscribe(function(){n.init()})},n.prototype.ngOnInit=function(){var t=this;this.get(this.code).subscribe(function(){t.init()})},n.prototype.init=function(){this.properties.name||(this.properties.name=""),this.properties.startTime&&(this.startTime=i(this.properties.startTime).format("hh:mm")),this.properties.endTime&&(this.endTime=i(this.properties.endTime).format("hh:mm"))},n}(e("jvvO").b));e("jhhN"),e.d(n,"a",function(){return o});var o=function(t){function n(n,e,l){var i=t.call(this,n,e)||this;return i.router=l,i.colors=["#000000","#3333ff","#4da6ff","#669900","#00cc99","#cc9900","#ff9900","#ff66ff","#ff3300","#993300"],i}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.toggleDay=function(t){var n=this.properties[t];if(n)switch(n){case"off":this.properties[t]="full";break;case"full":this.properties[t]="half";break;case"half":this.properties[t]="alternate";break;case"alternate":this.properties[t]="off"}else this.properties[t]="full"},n.prototype.setColor=function(t){this.properties.color=t},n.prototype.toggleDynamic=function(){this.properties.isDynamic=!this.properties.isDynamic},n.prototype.toggleExtend=function(){this.properties.autoExtend=!this.properties.autoExtend},n.prototype.addDepartment=function(t){this.properties.department=t.name},n.prototype.saveShift=function(t){var n,e,l,a;this.startTime&&(n=(l=this.startTime.split(":"))[0],e=l[1],a=i().set("h",n).set("m",e),t.startTime=a.toString()),this.endTime&&(n=(l=this.endTime.split(":"))[0],e=l[1],a=i().set("h",n).set("m",e),t.endTime=a.toString()),this.update(t)},n.prototype.removeShift=function(t){this.remove(t),this.router.navigate(["/","settings","shifts"])},n}(a)},"5CRj":function(t,n,e){"use strict";var l=e("mrSG"),i=e("CcnG"),a=e("wd/R"),o=e("p3Bg"),s=e("dXhc"),u=e("uXEg"),r=(e("JVmr"),e("jhhN"),e("Agim"),e("jvvO")),c=(e("0j2b"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.code="my",l.ofDate=new Date,l.date=new Date,l.change=new i.EventEmitter,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.getAttendance()},n.prototype.getAttendance=function(){this.get(this.ofDate.toISOString()+"/?employeeCode="+this.code)},n.prototype.ngOnDestroy=function(){},n}(r.b)),d=e("KCBS");e("VyMv"),e("f97T"),e("8SVa"),e.d(n,"a",function(){return h});var h=function(t){function n(n,e,l,o,s,c,d,h,p){var f=t.call(this,n,l)||this;return f.api=n,f.userService=e,f.errorHandler=l,f.uxService=o,f.timelogService=s,f.dialog=c,f.shiftTypeService=d,f.effectiveShiftService=h,f.auth=p,f.onCheck=new i.EventEmitter,f.change=new i.EventEmitter,f.isProcessing=!1,f.upcomingShift=[],f.nextShift=new u.a,f.time=a().format("HH:mm"),f.onlyList=!0,f.isProcessing=!1,f.effectiveShifts=new r.f({api:h,pageOptions:{limit:10},filters:[{field:"fromDate",value:f.date.toISOString()},{field:"code"}]}),f}return l.__extends(n,t),n.prototype.check=function(t){var n=this,e=new d.a;e.time=new Date,e.type=t,e.source="self",e.employee.code="my",this.timelogService.post(e,"").subscribe(function(t){t&&(n.properties=Object.assign(n.properties,t.attendance))})},n.prototype.ngOnInit=function(){this.setContext()},n.prototype.ngOnDestroy=function(){this.uxService.reset()},n.prototype.dateChanged=function(t){this.date=t},n.prototype.addShift=function(){var t=this;this.shiftTypeService.search().subscribe(function(n){t.uxService.openDialog(o.a,{data:{shifts:n,empId:t.code,date:t.date}}).afterClosed().subscribe()})},n.prototype.addTimeLog=function(){this.uxService.openDialog(s.a,{data:{empCode:this.code,date:this.date}}).afterClosed().subscribe()},n.prototype.setContext=function(){var t=this,n=[];this.auth.hasPermission("organization.supervisor")&&!this.auth.hasPermission("organization.admin")&&n.push({title:"Change Shift",type:"raised",event:function(){t.addShift()}}),this.auth.hasPermission("organization.admin")&&n.push({title:"Change Shift",type:"raised",event:function(){t.addShift()}},{title:"Add time Log",type:"raised",event:function(){t.addTimeLog()}}),this.uxService.setContextMenu(n)},n}(c)},"6zo9":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("wd/R"),i=(e("A/U7"),e("Agim"),function(){function t(t){this.datesService=t,this.isPast=!1}return t.prototype.ngOnInit=function(){this.isPast=l(this.attendance.ofDate).isBefore(new Date,"day"),this.isPast=!0,this.attendance.early&&(this.early=this.attendance.early.toString()),this.attendance.overTime&&(this.overTime=this.attendance.overTime.toString())},t}())},A5qL:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["from","name"],pageOptions:{limit:10}})||this;return l.readonly=!1,l.isUpcoming=!0,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.filters.reset(!1),this.isUpcoming&&this.filters.set("from",(new Date).toISOString()),this.fetch()},n.prototype.ngOnDestroy=function(){},n}(e("jvvO").e));e("kZYV"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e){var l=t.call(this,e,n)||this;return l.uxService=n,l.displayedColumns=["sn","name","date","icon","action"],l.onlyList=!0,l}return l.__extends(n,t),n.prototype.openDialog=function(t){var n=this;this.uxService.onConfirm({message:"Are you sure you want to remove this holiday",okTitle:"Delete"}).subscribe(function(){n.remove(t),n.uxService.showInfo("Deleted"),n.fetch()})},n}(i)},BRc0:function(t,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"a",function(){return s});var l=e("mrSG"),i=e("VHBb"),a=e("Toh8"),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.approvedLeavesCount=null,n.daysAvailed=null,n.openingBalance=null,n.days=null,n.leaveType=new a.a,n}return l.__extends(n,t),n}(i.a),s=function(){return function(){}}()},EBUL:function(t,n,e){"use strict";var l=e("CcnG"),i=e("Ip0R"),a=e("bujt"),o=e("UodH"),s=e("dWZg"),u=e("lLAP"),r=e("wFw1"),c=e("h2UD"),d=e("o3x0"),h=e("0j2b");e.d(n,"a",function(){return S});var p=l["\u0275crt"]({encapsulation:0,styles:[[".continuebtn[_ngcontent-%COMP%]{background:var(--primary)!important;color:#fff!important}.leavetitle[_ngcontent-%COMP%]{padding-bottom:10px;font-size:18px;text-transform:capitalize}"]],data:{}});function f(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"input",[["class","form-control"],["type","date"]],[[8,"value",0]],[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.updated(e)&&l),l},null,null))],null,function(t,n){t(n,0,0,n.component.value)})}function m(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"input",[["class","form-control"],["type","number"]],[[8,"value",0]],[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.updated(e)&&l),l},null,null))],null,function(t,n){t(n,0,0,n.component.value)})}function g(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.updated(e)&&l),l},null,null))],null,function(t,n){t(n,0,0,n.component.value)})}function v(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Comment"])),(t()(),l["\u0275eld"](3,0,null,null,0,"textarea",[["class","form-control"],["name","comment"],["required",""]],[[8,"value",0]],[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.updatedComment(e)&&l),l},null,null))],null,function(t,n){t(n,3,0,n.component.comment)})}function y(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","leavetitle"],["mat-dialog-title",""]],null,null,null,null,null)),(t()(),l["\u0275ted"](1,null,[" ","\n"])),(t()(),l["\u0275eld"](2,0,null,null,13,"div",[["class","rows"],["mat-dialog-content",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](5,null,["",""])),(t()(),l["\u0275eld"](6,0,null,null,7,null,null,null,null,null,null,null)),l["\u0275did"](7,16384,null,0,i.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](9,278528,null,0,i.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](11,278528,null,0,i.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](13,16384,null,0,i.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,i.NgSwitch],null,null),(t()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](15,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](16,0,null,null,7,"div",[["class","controls-row"],["mat-dialog-actions",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](17,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](18,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dialogRef.close(!1)&&l),l},a.d,a.b)),l["\u0275did"](19,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],null,null),(t()(),l["\u0275ted"](20,0,["",""])),(t()(),l["\u0275eld"](21,0,null,null,2,"button",[["class","continuebtn"],["color","primary"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.continue()&&l),l},a.d,a.b)),l["\u0275did"](22,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],{color:[0,"color"]},null),(t()(),l["\u0275ted"](23,0,["",""]))],function(t,n){var e=n.component;t(n,7,0,e.type),t(n,9,0,"date"),t(n,11,0,"number"),t(n,15,0,e.showComment),t(n,22,0,"primary")},function(t,n){var e=n.component;t(n,1,0,e.title),t(n,5,0,e.valueLabel),t(n,18,0,l["\u0275nov"](n,19).disabled||null,"NoopAnimations"===l["\u0275nov"](n,19)._animationMode),t(n,20,0,e.cancelText),t(n,21,0,l["\u0275nov"](n,22).disabled||null,"NoopAnimations"===l["\u0275nov"](n,22)._animationMode),t(n,23,0,e.continueText)})}function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-add-leave-dialog",[],null,null,null,y,p)),l["\u0275did"](1,114688,null,0,c.a,[d.k,h.a,d.a],null,null)],function(t,n){t(n,1,0)},null)}var S=l["\u0275ccf"]("app-add-leave-dialog",c.a,b,{title:"title",continueText:"continueText",cancelText:"cancelText",valueLabel:"valueLabel",value:"value",type:"type",showComment:"showComment"},{},[])},FM4f:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e("dJ3e");var l=e("Gh+a"),i=function(){function t(t,n,e){this.dialogRef=t,this.toastyService=n,this.data=e,this.leave=new l.a}return t.prototype.ngOnInit=function(){},t.prototype.continue=function(){this.dialogRef.close(this.data)},t}()},K0Uz:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var l=e("mrSG"),i=(e("0j2b"),e("KJl+")),a=(e("UR/D"),function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.view="table",l}return l.__extends(n,t),n}(i.a))},KCBS:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var l=e("mrSG"),i=e("VHBb"),a=e("05It"),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.location=new s,n.employee=new a.a,n}return l.__extends(n,t),n}(i.a),s=function(){return function(){this.coordinates=[],this.has=!1,this.show=!1,this.address=""}}()},"KJl+":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("mrSG"),i=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["employeeCode"],pageOptions:{limit:10}})||this;return l.api=n,l.readonly=!1,l.sort="code",l}return l.__extends(n,t),n.prototype.ngOnInit=function(){this.fetch()},n.prototype.ngOnChanges=function(){var t=!1;this.userCode&&(this.filters.set("employeeCode",this.userCode),t=!0),t||this.filters.reset()},n.prototype.ngOnDestroy=function(){},n.prototype.addBalance=function(){},n}(e("jvvO").e)},MAOR:function(t,n,e){"use strict";e("UodH"),e("seP3"),e("b716"),e("4tE/"),e("uGex"),e("FVSy"),e("0/Q6"),e("BHnd"),e("jQLj"),e("h2UD"),e("p3Bg"),e("wHz4"),e("Tk5g"),e("un7U"),e("3ETI"),e("mrSG"),e("0j2b"),e("iNj0"),e("eBhn"),e("8SVa"),e("dXhc"),e("tJZq"),e("6zo9"),e("uj95"),e("YaNl"),e("dJ3e"),e("jvvO"),e("SQ3M"),e("uI9x"),e("/qjD"),e("WG01"),e("yzdN"),e("du8p"),e("cXs7"),e("XGw2"),e("O4lj"),e("A5qL"),e("WIbG"),e("KJl+"),e("UR/D"),e("K0Uz"),e("ajmb"),e("FM4f"),e("QSt8"),e("ulpp"),e("fEj7"),e("2WeK"),e("dB3F"),e("ysV5"),e("4tzZ"),e("XWXd"),e("htz3"),e("iTV0"),e("f97T"),e("5CRj"),e.d(n,"a",function(){return l});var l=function(){return function(){}}()},O4lj:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("id8p")),a=e("atbi"),o=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.readonly=!1,l.sort="code",l}return l.__extends(n,t),n.prototype.ngOnChanges=function(){this.code&&"new"!==this.code?this.get(this.code):this.properties=new a.a({date:this.date})},n.prototype.onDepartmentsUpdate=function(t){this.properties.departments=t},n.prototype.onDateUpdate=function(t){this.properties.date=t},n.prototype.onDescriptionUpdate=function(t){this.properties.description=t},n}(i.a);e("kZYV"),e.d(n,"a",function(){return s});var s=function(t){function n(n,e){return t.call(this,n,e)||this}return l.__extends(n,t),n}(o)},QSt8:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("jvvO")),a=e("Toh8"),o=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.readonly=!1,l.enableCarryForward=!1,l.enableOpeningBalance=!1,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){this.init(this.code)},n.prototype.ngOnInit=function(){this.init(this.code)},n.prototype.init=function(t){var n=this;"new"===t?this.set(new a.a):this.get(t).subscribe(function(){n.properties&&(n.properties.carryForward>0&&(n.enableCarryForward=!0),n.properties.openingLeavebalance>0&&(n.enableOpeningBalance=!0))})},n.prototype.toogleEnableCarryForward=function(){!0===this.enableCarryForward&&(this.properties.carryForward=0)},n.prototype.toogleEnableOpeningBalance=function(){!0===this.enableOpeningBalance&&(this.properties.openingLeavebalance=0)},n.prototype.validate=function(){var t=!0;null==this.properties.unlimited&&(this.properties.unlimited=!1),this.properties.name||(t=!1,this.errorHandler.handleError("Enter name")),this.properties.code||(t=!1,this.errorHandler.handleError("Enter code")),this.properties.category||(t=!1,this.errorHandler.handleError("Select category")),this.properties.unitsPerDay||(t=!1,this.errorHandler.handleError("Select min per day")),t&&this.update(this.properties)},n}(i.b);e("DeCb"),e.d(n,"a",function(){return s});var s=function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.uxService=e,l.view="editor",l}return l.__extends(n,t),n}(o)},Rn7m:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return s});var l=e("CcnG"),i=(e("4tE/"),e("Ip0R")),a=(e("eDkP"),e("Fzqc"),e("Wf4p"),e("ZYjt"),e("dWZg"),e("4c35"),e("qAlS"),l["\u0275crt"]({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}}));function o(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,[[2,0],["panel",1]],null,2,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275ncd"](null,0)],function(t,n){t(n,1,0,"mat-autocomplete-panel",n.component._classList)},function(t,n){t(n,0,0,n.component.id)})}function s(t){return l["\u0275vid"](2,[l["\u0275qud"](402653184,1,{template:0}),l["\u0275qud"](671088640,2,{panel:0}),(t()(),l["\u0275and"](0,[[1,2]],null,0,null,o))],null,null)}},Tk5g:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("jvvO")),a=(e("BRc0"),function(t){function n(n,e,l){var i=t.call(this,{api:n,errorHandler:l})||this;return i.api=n,i.leaveBalancesApi=e,i.errorHandler=l,i.leaves=new Map,i.isProcessing=!1,i}return l.__extends(n,t),n.prototype.ngOnChanges=function(){this.getLeaveBalance()},n.prototype.ngOnInit=function(){},n.prototype.getLeaveBalance=function(){var t=this;this.leaveBalancesApi.search({code:this.code}).subscribe(function(n){t.leaveBalances=n.items})},n.prototype.reset=function(){this.leaves=new Map,this.reason="",this.getLeaveBalance()},n.prototype.onLeaveCreate=function(t,n){this.leaves[n]=t},n.prototype.applyLeave=function(){var t=this;if(!this.reason)return this.errorHandler.handleError("Please add a reason");var n=!0,e=[];return Object.keys(this.leaves).forEach(function(l){var i=t.leaves[l];i&&(i.reason=t.reason,"co"!=i.leaveType.code||i.journal||(n=!1),e.push(i))}),n?e.length?void this.api.bulk(e).subscribe(function(n){t.errorHandler.showInfo(n),t.isProcessing=!1,t.reset()},function(n){t.errorHandler.handleError(n),t.isProcessing=!1}):this.errorHandler.handleError("No Leaves Selected"):this.errorHandler.handleError("In Exchange Of Filed Required")},n}(i.b));e("UR/D"),e("dRND"),e.d(n,"a",function(){return o});var o=function(t){function n(n,e,l,i){var a=t.call(this,n,i,e)||this;return a.uxService=e,a.validatorService=l,a.leaveBalancesService=i,a}return l.__extends(n,t),n}(a)},Toh8:function(t,n,e){"use strict";var l=e("BRc0"),i=function(){return function(){this.value=0,this.type=""}}();e.d(n,"a",function(){return a});var a=function(){return function(){this.id="",this.code="",this.name="",this.unitsPerDay=null,this.unlimited=!1,this.days=null,this.grantedAfter=null,this.expiresAfter=null,this.category=null,this.periodicity=new i,this.journal=new l.a,this.carryForward=null,this.openingLeavebalance=0,this.isEdit=!1}}()},UDVJ:function(t,n,e){"use strict";var l=e("CcnG"),i=e("Ip0R"),a=e("lzlj"),o=e("FVSy"),s=e("u7R8"),u=e("gIcY"),r=e("ure7"),c=e("lLAP"),d=e("bujt"),h=e("UodH"),p=e("dWZg"),f=e("wFw1"),m=e("cXs7"),g=e("o3x0");e.d(n,"a",function(){return S});var v=l["\u0275crt"]({encapsulation:0,styles:[[".mat-button-toggle-checked[_ngcontent-%COMP%]{color:#00a8c6;background-color:#fff;border-radius:5px;border:1px solid #00a8c6}.mat-button-toggle-group.form-control[_ngcontent-%COMP%]{border-radius:5px;padding:1px 5px;box-shadow:none}.mat-button-toggle-label[_ngcontent-%COMP%] > .mat-button-toggle-label-content[_ngcontent-%COMP%]{line-height:30px;font-weight:300px}.mat-card[_ngcontent-%COMP%]{margin-bottom:3px}.hint[_ngcontent-%COMP%]{padding-right:9px;text-decoration:underline}"]],data:{}});function y(t){return l["\u0275vid"](0,[l["\u0275pid"](0,i.DatePipe,[l.LOCALE_ID]),(t()(),l["\u0275eld"](1,0,null,null,66,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,2,"div",[["mat-dialog-title",""]],null,null,null,null,null)),(t()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1),(t()(),l["\u0275eld"](5,0,null,null,54,"div",[["mat-dialog-content",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](7,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Shift"])),(t()(),l["\u0275eld"](9,0,null,null,1,"span",[["class","form-control"]],null,null,null,null,null)),(t()(),l["\u0275ted"](10,null,["",""])),(t()(),l["\u0275eld"](11,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Start Time"])),(t()(),l["\u0275eld"](14,0,null,null,2,"div",[["class","form-control"]],null,null,null,null,null)),(t()(),l["\u0275ted"](15,null,["",""])),l["\u0275ppd"](16,2),(t()(),l["\u0275eld"](17,0,null,null,6,"div",[["class","controls-row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["End Time"])),(t()(),l["\u0275eld"](20,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](21,0,null,null,2,"div",[["class","sub-text"]],null,null,null,null,null)),(t()(),l["\u0275eld"](22,0,null,null,1,"a",[["class","hint"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.reset()&&l),l},null,null)),(t()(),l["\u0275ted"](-1,null,["Reset"])),(t()(),l["\u0275eld"](24,0,null,null,35,"mat-card",[["class","mat-card"]],null,null,null,a.d,a.a)),l["\u0275did"](25,49152,null,0,o.a,[],null,null),(t()(),l["\u0275eld"](26,0,null,0,24,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](27,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Date"])),(t()(),l["\u0275eld"](29,0,null,null,21,"mat-button-toggle-group",[["class","form-control mat-button-toggle-group"],["role","group"]],[[1,"aria-disabled",0],[2,"mat-button-toggle-vertical",null],[2,"mat-button-toggle-group-appearance-standard",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,n,e){var l=!0;return"ngModelChange"===n&&(l=!1!==(t.component.date=e)&&l),l},null,null)),l["\u0275prd"](6144,null,s.d,null,[s.c]),l["\u0275did"](31,1130496,null,1,s.c,[l.ChangeDetectorRef,[2,s.a]],null,null),l["\u0275qud"](603979776,1,{_buttonToggles:1}),l["\u0275prd"](1024,null,u.n,function(t){return[t]},[s.c]),l["\u0275did"](34,671744,null,0,u.s,[[8,null],[8,null],[8,null],[6,u.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,u.o,null,[u.s]),l["\u0275did"](36,16384,null,0,u.p,[[4,u.o]],null,null),(t()(),l["\u0275eld"](37,0,null,null,6,"mat-button-toggle",[["class","mat-button-toggle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"ngModelChange"],[null,"click"],[null,"focus"]],function(t,n,e){var i=!0,a=t.component;return"focus"===n&&(i=!1!==l["\u0275nov"](t,41).focus()&&i),"ngModelChange"===n&&(i=!1!==(a.currentShift.date=e)&&i),"click"===n&&(i=!1!==a.setTime(a.currentShift.shiftType.endTime)&&i),i},r.b,r.a)),l["\u0275did"](38,671744,null,0,u.s,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,u.o,null,[u.s]),l["\u0275did"](40,16384,null,0,u.p,[[4,u.o]],null,null),l["\u0275did"](41,245760,[[1,4]],0,s.b,[[2,s.c],l.ChangeDetectorRef,l.ElementRef,c.h,[8,null],[2,s.a]],null,null),(t()(),l["\u0275ted"](42,0,["",""])),l["\u0275ppd"](43,1),(t()(),l["\u0275eld"](44,0,null,null,6,"mat-button-toggle",[["class","mat-button-toggle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"ngModelChange"],[null,"click"],[null,"focus"]],function(t,n,e){var i=!0,a=t.component;return"focus"===n&&(i=!1!==l["\u0275nov"](t,48).focus()&&i),"ngModelChange"===n&&(i=!1!==(a.nextShift.date=e)&&i),"click"===n&&(i=!1!==a.setTime(a.nextShift.shiftType.startTime)&&i),i},r.b,r.a)),l["\u0275did"](45,671744,null,0,u.s,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,u.o,null,[u.s]),l["\u0275did"](47,16384,null,0,u.p,[[4,u.o]],null,null),l["\u0275did"](48,245760,[[1,4]],0,s.b,[[2,s.c],l.ChangeDetectorRef,l.ElementRef,c.h,[8,null],[2,s.a]],null,null),(t()(),l["\u0275ted"](49,0,["",""])),l["\u0275ppd"](50,1),(t()(),l["\u0275eld"](51,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](52,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Time"])),(t()(),l["\u0275eld"](54,0,null,null,5,"input",[["class","form-control"],["type","time"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,55)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,55).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,55)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,55)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(a.time=e)&&i),"blur"===n&&(i=!1!==a.timeChanged()&&i),i},null,null)),l["\u0275did"](55,16384,null,0,u.d,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["\u0275prd"](1024,null,u.n,function(t){return[t]},[u.d]),l["\u0275did"](57,671744,null,0,u.s,[[8,null],[8,null],[8,null],[6,u.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,u.o,null,[u.s]),l["\u0275did"](59,16384,null,0,u.p,[[4,u.o]],null,null),(t()(),l["\u0275eld"](60,0,null,null,7,"div",[["class","controls-row"],["mat-dialog-actions",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](61,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](62,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dialogRef.close()&&l),l},d.d,d.b)),l["\u0275did"](63,180224,null,0,h.b,[l.ElementRef,p.a,c.h,[2,f.a]],null,null),(t()(),l["\u0275ted"](-1,0,["Cancel"])),(t()(),l["\u0275eld"](65,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.continue()&&l),l},d.d,d.b)),l["\u0275did"](66,180224,null,0,h.b,[l.ElementRef,p.a,c.h,[2,f.a]],{color:[0,"color"]},null),(t()(),l["\u0275ted"](-1,0,["Save"]))],function(t,n){var e=n.component;t(n,31,0),t(n,34,0,e.date),t(n,38,0,e.currentShift.date),t(n,41,0),t(n,45,0,e.nextShift.date),t(n,48,0),t(n,57,0,e.time),t(n,66,0,"primary")},function(t,n){var e=n.component,i=l["\u0275unv"](n,3,0,t(n,4,0,l["\u0275nov"](n,0),e.currentShift.date));t(n,3,0,i),t(n,10,0,e.currentShift.shiftType.name);var a=l["\u0275unv"](n,15,0,t(n,16,0,l["\u0275nov"](n,0),e.currentShift.shiftType.startTime,"h:mm:a"));t(n,15,0,a),t(n,29,0,l["\u0275nov"](n,31).disabled,l["\u0275nov"](n,31).vertical,"standard"===l["\u0275nov"](n,31).appearance,l["\u0275nov"](n,36).ngClassUntouched,l["\u0275nov"](n,36).ngClassTouched,l["\u0275nov"](n,36).ngClassPristine,l["\u0275nov"](n,36).ngClassDirty,l["\u0275nov"](n,36).ngClassValid,l["\u0275nov"](n,36).ngClassInvalid,l["\u0275nov"](n,36).ngClassPending),t(n,37,1,[l["\u0275nov"](n,40).ngClassUntouched,l["\u0275nov"](n,40).ngClassTouched,l["\u0275nov"](n,40).ngClassPristine,l["\u0275nov"](n,40).ngClassDirty,l["\u0275nov"](n,40).ngClassValid,l["\u0275nov"](n,40).ngClassInvalid,l["\u0275nov"](n,40).ngClassPending,!l["\u0275nov"](n,41).buttonToggleGroup,l["\u0275nov"](n,41).checked,l["\u0275nov"](n,41).disabled,"standard"===l["\u0275nov"](n,41).appearance,-1,l["\u0275nov"](n,41).id]);var o=l["\u0275unv"](n,42,0,t(n,43,0,l["\u0275nov"](n,0),e.currentShift.date));t(n,42,0,o),t(n,44,1,[l["\u0275nov"](n,47).ngClassUntouched,l["\u0275nov"](n,47).ngClassTouched,l["\u0275nov"](n,47).ngClassPristine,l["\u0275nov"](n,47).ngClassDirty,l["\u0275nov"](n,47).ngClassValid,l["\u0275nov"](n,47).ngClassInvalid,l["\u0275nov"](n,47).ngClassPending,!l["\u0275nov"](n,48).buttonToggleGroup,l["\u0275nov"](n,48).checked,l["\u0275nov"](n,48).disabled,"standard"===l["\u0275nov"](n,48).appearance,-1,l["\u0275nov"](n,48).id]);var s=l["\u0275unv"](n,49,0,t(n,50,0,l["\u0275nov"](n,0),e.nextShift.date));t(n,49,0,s),t(n,54,0,e.nextShift.shiftType.startTime,l["\u0275nov"](n,59).ngClassUntouched,l["\u0275nov"](n,59).ngClassTouched,l["\u0275nov"](n,59).ngClassPristine,l["\u0275nov"](n,59).ngClassDirty,l["\u0275nov"](n,59).ngClassValid,l["\u0275nov"](n,59).ngClassInvalid,l["\u0275nov"](n,59).ngClassPending),t(n,62,0,l["\u0275nov"](n,63).disabled||null,"NoopAnimations"===l["\u0275nov"](n,63)._animationMode),t(n,65,0,l["\u0275nov"](n,66).disabled||null,"NoopAnimations"===l["\u0275nov"](n,66)._animationMode)})}function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"ams-extend-shift-dialog",[],null,null,null,y,v)),l["\u0275did"](1,114688,null,0,m.a,[g.k,g.a],null,null)],function(t,n){t(n,1,0)},null)}var S=l["\u0275ccf"]("ams-extend-shift-dialog",m.a,b,{},{},[])},WG01:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["name","ip","status","category"]})||this;return l.readonly=!1,l.isRefresh=!1,l.sort="code",l}return l.__extends(n,t),n.prototype.ngOnInit=function(){this.filters.set("category",this.category)},n.prototype.ngOnChanges=function(){this.fetch()},n.prototype.ngOnDestroy=function(){},n.prototype.delete=function(t){},n}(e("jvvO").e));e("Cq0X"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e,l){var i=t.call(this,n,l)||this;return i.dialog=e,i.uxService=l,i.view="table",i}return l.__extends(n,t),n.prototype.onNoClick=function(){this.dialogRef.close()},n.prototype.openDialog=function(t){var n=this;this.uxService.onConfirm({message:"The device and the data would be removed",okTitle:"Delete"}).subscribe(function(){n.remove(t),n.uxService.showInfo("Deleted")})},n}(i)},WIbG:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("mrSG"),i=(e("dJ3e"),e("KJl+")),a=(e("UR/D"),e("Lf8o")),o=e("h2UD"),s=function(t){function n(n,e,l){var i=t.call(this,n,e)||this;return i.api=n,i.uxService=e,i.dialog=l,i.isProcessing=!1,i}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.getLeaveBalance()},n.prototype.getLeaveBalance=function(){var t=this;this.isProcessing=!0,(new a.e).noPaging=!0,this.userCode&&this.api.search({employeeCode:this.userCode}).subscribe(function(n){t.isProcessing=!0,t.leaveBalances=n.items})},n.prototype.addleave=function(t){var n=this,e=this.uxService.openDialog(o.a),l=e.componentInstance;l.title="Add "+t.leaveType.name,l.showComment=!0,l.type="number",l.value=0,l.valueLabel="No of Days",e.afterClosed().subscribe(function(e){!1!==e&&(t.isProcessing=!0,n.api.post({days:parseInt(e.value),journal:{comment:e.comment}},t.id+"/grant").subscribe(function(n){t.days=n.days,t.isProcessing=!1}))})},n.prototype.validate=function(){return!0},n.prototype.complete=function(){return!0},n}(i.a)},WX1E:function(t,n,e){"use strict";var l=e("CcnG"),i=e("gIcY"),a=e("Ip0R"),o=e("FM4f"),s=e("o3x0"),u=e("0j2b");e.d(n,"a",function(){return f});var r=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function c(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,6,"input",[["class","form-control"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,2)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,2).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,2)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,2)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(a.data.reason=e)&&i),i},null,null)),l["\u0275did"](2,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](4,671744,null,0,i.s,[[2,i.c],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),l["\u0275pod"](5,{standalone:0}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](7,16384,null,0,i.p,[[4,i.o]],null,null)],function(t,n){var e=n.component.data.reason,l=t(n,5,0,!0);t(n,4,0,e,l)},function(t,n){t(n,1,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function d(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,6,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,2)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,2).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,2)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,2)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(a.data.reason=e)&&i),i},null,null)),l["\u0275did"](2,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](4,671744,null,0,i.s,[[2,i.c],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),l["\u0275pod"](5,{standalone:0}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](7,16384,null,0,i.p,[[4,i.o]],null,null)],function(t,n){var e=n.component.data.reason,l=t(n,5,0,!0);t(n,4,0,e,l)},function(t,n){t(n,1,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function h(t){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{LeaveReason:0}),(t()(),l["\u0275eld"](1,0,null,null,25,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var i=!0;return"submit"===n&&(i=!1!==l["\u0275nov"](t,3).onSubmit(e)&&i),"reset"===n&&(i=!1!==l["\u0275nov"](t,3).onReset()&&i),i},null,null)),l["\u0275did"](2,16384,null,0,i.A,[],null,null),l["\u0275did"](3,4210688,[[1,4],["LeaveReason",4]],0,i.r,[[8,null],[8,null]],null,null),l["\u0275prd"](2048,null,i.c,null,[i.r]),l["\u0275did"](5,16384,null,0,i.q,[[4,i.c]],null,null),(t()(),l["\u0275eld"](6,0,null,null,3,"div",[["class","row text-center header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](7,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),l["\u0275eld"](8,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Confirm"])),(t()(),l["\u0275eld"](10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),l["\u0275eld"](11,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](12,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](13,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](14,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Reason"])),(t()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](17,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](19,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),l["\u0275eld"](21,0,null,null,4,"div",[["class","row text-right"]],null,null,null,null,null)),(t()(),l["\u0275eld"](22,0,null,null,1,"button",[["class","btn_grey"],["md-dialog-close",""],["md-raised-button",""]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Cancel"])),(t()(),l["\u0275eld"](24,0,null,null,1,"button",[["color","primary"],["md-raised-button",""]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.continue()&&l),l},null,null)),(t()(),l["\u0275ted"](-1,null,["Continue"])),(t()(),l["\u0275eld"](26,0,null,null,0,"br",[],null,null,null,null,null))],function(t,n){var e=n.component;t(n,17,0,"CO"==e.data.leaveType.code),t(n,19,0,"CO"!=e.data.leaveType.code)},function(t,n){t(n,1,0,l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending)})}function p(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-leave-reason-dialog",[],null,null,null,h,r)),l["\u0275did"](1,114688,null,0,o.a,[s.k,u.a,s.a],null,null)],function(t,n){t(n,1,0)},null)}var f=l["\u0275ccf"]("app-leave-reason-dialog",o.a,p,{},{},[])},X0vo:function(t,n,e){"use strict";var l=e("CcnG"),i=e("gIcY"),a=e("Ip0R"),o=e("XGw2"),s=e("o3x0");e.d(n,"a",function(){return h});var u=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function r(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"div",[["md-dialog-title",""]],null,null,null,null,null)),(t()(),l["\u0275ted"](2,null,[" "," "])),(t()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","rows"],["md-dialog-content",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,5,"input",[["class","form-control"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,5)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,5).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,5)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,5)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(a.date=e)&&i),"change"===n&&(i=!1!==a.updated(e)&&i),i},null,null)),l["\u0275did"](5,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](7,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](9,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](10,0,null,null,5,"div",[["class","controls-row"],["md-dialog-actions",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](11,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](12,0,null,null,1,"button",[["md-button",""]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dialogRef.close(!1)&&l),l},null,null)),(t()(),l["\u0275ted"](13,null,["",""])),(t()(),l["\u0275eld"](14,0,null,null,1,"button",[["color","primary"],["md-button",""]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.continue()&&l),l},null,null)),(t()(),l["\u0275ted"](15,null,["",""]))],function(t,n){t(n,7,0,n.component.date)},function(t,n){var e=n.component;t(n,2,0,e.title),t(n,4,0,l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending),t(n,13,0,e.cancelText),t(n,15,0,e.continueText)})}function c(t){return l["\u0275vid"](0,[(t()(),l["\u0275and"](16777216,null,null,1,null,r)),l["\u0275did"](1,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,1,0,"In Lieu Of"===n.component.title)},null)}function d(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-get-date-dialog",[],null,null,null,c,u)),l["\u0275did"](1,638976,null,0,o.a,[s.k,s.a],null,null)],function(t,n){t(n,1,0)},null)}var h=l["\u0275ccf"]("app-get-date-dialog",o.a,d,{title:"title",continueText:"continueText",cancelText:"cancelText",date:"date"},{},[])},XGw2:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("wd/R"),i=function(){function t(t,n){this.dialogRef=t,this.data=n,this.title="Date",this.continueText="Continue",this.cancelText="Cancel"}return t.prototype.ngOnChanges=function(){console.log(this.data.currentShifts)},t.prototype.ngOnInit=function(){},t.prototype.updated=function(t){this.date=t.currentTarget.value},t.prototype.timeUpdated=function(t){var n=new Date,e=t.split(":");this.current=l(n).hours(parseInt(e[0])).minutes(parseInt(e[1])).toDate(),this.date=this.current.toISOString()},t.prototype.continue=function(){var t=l(this.date).toDate();this.dialogRef.close(t)},t}()},XWXd:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["name","code","status"],pageOptions:{limit:10}})||this;return l.readonly=!1,l.sort="code",l.isRefresh=!1,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){this.fetch().subscribe(function(t){})},n.prototype.ngOnChanges=function(){this.fetch()},n.prototype.terminate=function(t){},n}(e("jvvO").e));e("jhhN"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e){var l=t.call(this,e,n)||this;return l.uxService=n,l.view="table",l.displayedColumns=["name","time","department","days","action"],l.onlyList=!0,l.Data=[],l}return l.__extends(n,t),n.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},n.prototype.onRemove=function(t){var n=this;this.uxService.onConfirm({message:"This would remove the shift rule. Are you sure?",okTitle:"Yes"}).subscribe(function(){n.remove(t),n.uxService.showInfo("Deleted")})},n}(i)},YaNl:function(t,n,e){"use strict";e.d(n,"a",function(){return l}),e("VyMv"),e("vjbc");var l=function(){function t(t,n){this.attendanceService=t,this.userService=n,this.date=new Date,this.isProcessing=!1}return t.prototype.ngOnInit=function(){this.fetch()},t.prototype.fetch=function(){var t=this;this.isProcessing=!0,this.attendanceService.get(this.date.toISOString()+"?employeeCode="+this.code).subscribe(function(n){t.attendance=n,t.isProcessing=!1}),this.userService.get(this.code).subscribe(function(n){return t.user=n})},t}()},ajmb:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["date","employeeCode"],pageOptions:{limit:10}})||this;return l.api=n,l.readonly=!1,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.filters.reset(!1),this.filters.set("date",this.date?this.date:(new Date).toISOString()),this.code&&this.filters.set("employeeCode",this.code),this.fetch()},n.prototype.ngOnDestroy=function(){},n.prototype.cancel=function(t){var n=this;t.status="cancelled",this.api.update(t.id+"/action",t).subscribe(function(t){n.fetch()})},n}(e("jvvO").e));e("dRND"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e,l){var i=t.call(this,n,l)||this;return i.dialog=e,i.uxService=l,i}return l.__extends(n,t),n.prototype.onNoClick=function(){this.dialogRef.close()},n.prototype.openDialog=function(t){var n=this;this.uxService.onConfirm({message:"This would remove the leave. Are you sure?",okTitle:"Yes"}).subscribe(function(){n.remove(t)})},n}(i)},cXs7:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("wd/R"),i=function(){function t(t,n){this.dialogRef=t,this.data=n,this.isCustom=!1,this.currentShift=this.data.currentShift,this.nextShift=this.data.nextShift,this.date=this.data.date,this.time=this.data.time,l(this.date).isSame(this.currentShift.date,"d")?this.date=this.currentShift.date:l(this.date).isSame(this.nextShift.date,"d")&&(this.date=this.nextShift.date)}return t.prototype.ngOnInit=function(){},t.prototype.reset=function(){this.setTime(this.currentShift.shiftType.endTime),this.date=this.currentShift.date},t.prototype.timeChanged=function(){var t=this.time.split(":"),n=l(this.date).hours(parseInt(t[0])).minutes(parseInt(t[1])).toDate(),e=l(this.nextShift.shiftType.startTime).toDate(),i=l(this.nextShift.date).hours(e.getHours()).minutes(e.getMinutes()).toDate(),a=l(this.currentShift.shiftType.endTime).toDate(),o=l(this.currentShift.date).hours(a.getHours()).minutes(a.getMinutes()).toDate();n>i&&this.setTime(this.nextShift.shiftType.startTime),n<o&&this.setTime(this.currentShift.shiftType.endTime)},t.prototype.setTime=function(t){this.time=l(t).format("HH:mm")},t.prototype.continue=function(){var t=this.time.split(":"),n=l(this.date).hours(parseInt(t[0])).minutes(parseInt(t[1])).toDate();this.dialogRef.close(n)},t}()},dB3F:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("jvvO")),a=e("Toh8"),o=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.leaveType=new a.a,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){},n.prototype.ngOnInit=function(){},n.prototype.validate=function(){var t=!0;null==this.leaveType.unlimited&&(this.leaveType.unlimited=!1),this.leaveType.name||(t=!1,this.errorHandler.handleError("Enter name")),this.leaveType.code||(t=!1,this.errorHandler.handleError("Enter code")),this.leaveType.category||(t=!1,this.errorHandler.handleError("Select category")),this.leaveType.unitsPerDay||(t=!1,this.errorHandler.handleError("Select min per day")),t&&this.create(this.leaveType)},n}(i.b);e("DeCb"),e.d(n,"a",function(){return s});var s=function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.enableOpeningBalance=!1,l.enableCarryForward=!1,l}return l.__extends(n,t),n}(o)},dXhc:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var l=e("wd/R"),i=(e("dJ3e"),e("05It")),a=e("KCBS"),o=(e("f97T"),function(){function t(t,n,e,i){var a=this;this.amsTimelogsService=t,this.uxService=n,this.dialogRef=e,this.data=i,this.logs=[],this.isLoading=!1,this.dialogRef.afterOpened().subscribe(function(){a.logs[0].date=l(a.data.date).format("YYYY-MM-DD")})}return t.prototype.ngOnInit=function(){this.isLoading=!0,this.add()},t.prototype.validate=function(t){t.code&&t.time&&t.date&&t.date&&(t.isInValid=!1),t.code||(t.isInValid=!1)},t.prototype.remove=function(t){var n=this.logs.findIndex(function(n){return n.position===t.position});this.logs.splice(n,1)},t.prototype.add=function(){this.logs.push(this.data?{position:this.logs.length,code:this.data.empCode,date:l(this.data.date).format("YYYY-MM-DD"),time:"",type:"checkIn"}:{position:this.logs.length,code:"",date:"",time:"",type:"checkIn"})},t.prototype.save=function(){var t=this;this.isLoading=!0;var n=[],e=!0;if(this.logs.forEach(function(t){if(t.isInValid=!1,t.code){if(!t.date||!t.time||!t.type)return t.isInValid=!0,void(e=!1);var o=new a.a,s=t.time.split(":");o.time=l(t.date).hours(parseInt(s[0])).minutes(parseInt(s[1])).toDate(),o.employee=new i.a,o.employee.code=t.code,o.type=t.type,o.source="byAdmin",n.push(o)}}),e&&n.length)return this.amsTimelogsService.bulk(n).subscribe(function(n){t.uxService.showInfo(n),t.isLoading=!1,t.dialogRef.close(!0)}),this.uxService.showInfo("Added Sucessfully"),this.dialogRef.close(!0)},t.prototype.onCancel=function(){this.dialogRef.close(!1)},t}())},du8p:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("wd/R")),a=function(t){function n(n,e,l,i,a,o){var s=t.call(this,{api:n,errorHandler:e,filters:["fromDate","name","code","departments","divisions","designations","contractors","employeeTypes","supervisor","userTypes","shiftTypes"],pageOptions:{limit:10}})||this;return s.api=n,s.errorHandler=e,s.shiftTypeService=l,s.auth=i,s.shiftService=a,s.employeeService=o,s.date=new Date,s.datesArray=[],s.shiftTypes=[],s}return l.__extends(n,t),n.prototype.ngOnChanges=function(){this.filters.reset(!1),this.name&&this.filters.set("name",this.name),this.code&&this.filters.set("code",this.code),this.userTypes&&this.filters.set("userTypes",this.userTypes),this.shiftType&&this.filters.set("shiftTypes",this.shiftType),this.supervisor&&this.filters.set("supervisor",this.supervisor),this.department&&this.filters.set("departments",this.department),this.division&&this.filters.set("divisions",this.division),this.designation&&this.filters.set("designations",this.designation),this.contractor&&this.filters.set("contractors",this.contractor),this.filters.set("fromDate",this.date?this.date:(new Date).toISOString()),this.getAttendance()},n.prototype.ngOnInit=function(){},n.prototype.init=function(){},n.prototype.getAttendance=function(){var t=this;this.shiftTypeService.search().subscribe(function(n){t.shiftTypes=n.items}),this.getEffectiveShift(this.date)},n.prototype.getEffectiveShift=function(t){var n=this;this.fetch().subscribe(function(){n.getWeek(n.date)})},n.prototype.getWeek=function(t){this.datesArray=[];for(var n=i(t).startOf("week"),e=i(t).endOf("week");n<=e;)this.datesArray.push(n.toDate()),n=n.clone().add(1,"d")},n.prototype.resetShifts=function(){var t=this;this.api.post({},"reset").subscribe(function(){t.errorHandler.handleError("Submitted")})},n.prototype.toggleDynamicShift=function(t){var n=this;this.employeeService.update(t.id,{isDynamicShift:!t.isDynamicShift}).subscribe(function(t){t=t,n.getAttendance()})},n.prototype.changeShift=function(t,n,e){if(!t||!n)return this.errorHandler.handleError("Please select Shift");this.updateEffectiveShift(e.id,{date:n,newShiftType:t})},n.prototype.updateEffectiveShift=function(t,n){var e=this;this.isProcessing=!0,this.api.update(t,n).subscribe(function(){e.isProcessing=!1})},n.prototype.shiftColour=function(t){return this.shiftTypeService.shiftColour(t)},n.prototype.getData=function(t){this.date=t,this.getEffectiveShift(this.date)},n.prototype.getEmployeeStatus=function(t){this.toggleDynamicShift(t)},n}(e("jvvO").e);e("JVmr"),e("vjbc"),e("l/y6"),e("jhhN"),e("Agim"),e.d(n,"a",function(){return o});var o=function(t){function n(n,e,l,i,a,o){return t.call(this,n,e,l,i,a,o)||this}return l.__extends(n,t),n}(a)},f97T:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var l=e("mrSG"),i=(e("dJ3e"),e("Agim"),e("8E7e")),a=e("CcnG"),o=e("t/Na"),s=e("ODqr"),u=e("0j2b"),r=function(t){function n(n,e,l){return t.call(this,"timeLogs",n,e,l)||this}return l.__extends(n,t),n.ngInjectableDef=a.defineInjectable({factory:function(){return new n(a.inject(o.c),a.inject(s.a),a.inject(u.a))},token:n,providedIn:"root"}),n}(i.a)},fEj7:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["name","code","departments","divisions","designations","contractors","userType","supervisor","date"],pageOptions:{limit:10}})||this;return l.api=n,l.readonly=!1,l.date=new Date,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.filters.reset(!1),this.name&&this.filters.set("name",this.name),this.code&&this.filters.set("code",this.code),this.department&&this.filters.set("departments",this.department),this.division&&this.filters.set("divisions",this.division),this.supervisor&&this.filters.set("supervisor",this.supervisor),this.designation&&this.filters.set("designations",this.designation),this.userType&&this.filters.set("userType",this.userType),this.contractor&&this.filters.set("contractors",this.contractor),this.date&&this.filters.set("date",this.date),this.fetch()},n.prototype.ngOnDestroy=function(){},n.prototype.cancel=function(t){var n=this;t.status="cancelled",this.api.update(t.id+"/action",t).subscribe(function(t){n.fetch()})},n.prototype.onSelect=function(t){this.selected.emit(t)},n}(e("jvvO").e));e("lwG1"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e,l){var i=t.call(this,e,l)||this;return i.dialog=n,i.uxService=l,i}return l.__extends(n,t),n}(i)},htz3:function(t,n,e){"use strict";var l=e("mrSG"),i=e("wd/R"),a=(e("dJ3e"),e("jvvO")),o=e("x1iR"),s=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.shiftType=new o.a,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(t){},n.prototype.ngOnInit=function(){},n}(a.b);e("jhhN"),e.d(n,"a",function(){return u});var u=function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.uxService=e,l.colors=["#000000","#3333ff","#4da6ff","#669900","#00cc99","#cc9900","#ff9900","#ff66ff","#ff3300","#993300"],l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.toggleDay=function(t){var n=this.shiftType[t];if(n)switch(n){case"off":this.shiftType[t]="full";break;case"full":this.shiftType[t]="half";break;case"half":this.shiftType[t]="alternate";break;case"alternate":this.shiftType[t]="off"}else this.shiftType[t]="full"},n.prototype.setColor=function(t){this.shiftType.color=t},n.prototype.toggleDynamic=function(){this.shiftType.isDynamic=!this.shiftType.isDynamic},n.prototype.toggleExtend=function(){this.shiftType.autoExtend=!this.shiftType.autoExtend},n.prototype.addDepartment=function(t){this.shiftType.department=t.name},n.prototype.createShift=function(t){return t.name&&t.code&&t.breakTime&&t.grace.checkIn.early&&t.grace.checkIn.late&&t.grace.checkOut.early&&t.grace.checkOut.late?this.startDate?(n=(l=this.startDate.split(":"))[0],e=l[1],a=i().set("h",n).set("m",e),t.startTime=a.toString(),this.endDate?(n=(l=this.endDate.split(":"))[0],e=l[1],a=i().set("h",n).set("m",e),t.endTime=a.toString(),void this.create(t)):this.uxService.showInfo("End Time Required")):this.uxService.showInfo("Start Time Required"):this.uxService.showInfo("Fill the mandatory fields");var n,e,l,a},n}(s)},iTV0:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("CcnG")),a=function(t){function n(n,e,l){var a=t.call(this,{api:n,errorHandler:e,filters:["date"],pageOptions:{limit:10}})||this;return a.api=n,a.readonly=!1,a.selected=new i.EventEmitter,a}return l.__extends(n,t),n.prototype.ngOnInit=function(){this.fetch()},n.prototype.ngOnChanges=function(){this.filters.reset(!1),this.filters.set("date",this.date?this.date:(new Date).toISOString()),this.name&&this.filters.set("name",this.name),this.code&&this.filters.set("code",this.code),this.fetch()},n.prototype.ngOnDestroy=function(){},n.prototype.employeeSelect=function(t){this.selected.emit(t)},n}(e("jvvO").e);e("vjbc"),e("Agim"),e.d(n,"a",function(){return o});var o=function(t){function n(n,e,l){return t.call(this,n,e,l)||this}return l.__extends(n,t),n}(a)},"l/y6":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var l=e("mrSG"),i=(e("dJ3e"),e("Agim"),e("8E7e")),a=e("CcnG"),o=e("t/Na"),s=e("ODqr"),u=e("0j2b"),r=function(t){function n(n,e,l){return t.call(this,"shifts",n,e,l)||this}return l.__extends(n,t),n.ngInjectableDef=a.defineInjectable({factory:function(){return new n(a.inject(o.c),a.inject(s.a),a.inject(u.a))},token:n,providedIn:"root"}),n}(i.a)},lzlj:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return s});var l=e("CcnG"),i=(e("FVSy"),e("Fzqc"),e("Wf4p"),e("ZYjt"),l["\u0275crt"]({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px 0}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}}));function a(t){return l["\u0275vid"](2,[l["\u0275ncd"](null,0),l["\u0275ncd"](null,1)],null,null)}var o=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function s(t){return l["\u0275vid"](2,[l["\u0275ncd"](null,0),(t()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),l["\u0275ncd"](null,1),l["\u0275ncd"](null,2)],null,null)}},npI2:function(t,n,e){"use strict";var l=e("CcnG"),i=e("gIcY"),a=e("Ip0R"),o=e("bujt"),s=e("UodH"),u=e("dWZg"),r=e("lLAP"),c=e("wFw1"),d=e("p3Bg"),h=e("o3x0"),p=e("JVmr"),f=e("0j2b");e.d(n,"a",function(){return b});var m=l["\u0275crt"]({encapsulation:0,styles:[[".btnUpld[_ngcontent-%COMP%]{margin-left:10px}h5[_ngcontent-%COMP%]{font-weight:700;display:table-caption;font-size:18px;text-align:center}"]],data:{}});function g(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,i.t,[l.ElementRef,l.Renderer2,[2,i.w]],{value:[0,"value"]},null),l["\u0275did"](2,147456,null,0,i.D,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),l["\u0275ted"](3,null,["",""]))],function(t,n){t(n,1,0,n.context.index),t(n,2,0,n.context.index)},function(t,n){t(n,3,0,n.context.$implicit.name)})}function v(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,33,"table",[["class","table"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Update Shift"])),(t()(),l["\u0275eld"](3,0,null,null,30,"tbody",[],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,9,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["From Date"])),(t()(),l["\u0275eld"](7,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](8,0,null,null,5,"input",[["class","form-control"],["type","date"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0;return"input"===n&&(i=!1!==l["\u0275nov"](t,9)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,9).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,9)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,9)._compositionEnd(e.target.value)&&i),i},null,null)),l["\u0275did"](9,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](11,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},null),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](13,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](14,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Shift"])),(t()(),l["\u0275eld"](17,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](18,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var i=!0,a=t.component;return"change"===n&&(i=!1!==l["\u0275nov"](t,19).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,19).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(a.selectedIndex=e)&&i),i},null,null)),l["\u0275did"](19,16384,null,0,i.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.w]),l["\u0275did"](21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](23,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](25,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["\u0275eld"](26,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](27,0,null,null,6,"td",[["class","text-right"],["colspan","2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](28,0,null,null,2,"button",[["class","btnUpld"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dialogRef.close(!1)&&l),l},o.d,o.b)),l["\u0275did"](29,180224,null,0,s.b,[l.ElementRef,u.a,r.h,[2,c.a]],null,null),(t()(),l["\u0275ted"](-1,0,["Cancel"])),(t()(),l["\u0275eld"](31,0,null,null,2,"button",[["class","btnUpld"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0,i=t.component;return"click"===n&&(l=!1!==i.changeShift(i.fromDate)&&l),l},o.d,o.b)),l["\u0275did"](32,180224,null,0,s.b,[l.ElementRef,u.a,r.h,[2,c.a]],{color:[0,"color"]},null),(t()(),l["\u0275ted"](-1,0,[" Save "]))],function(t,n){var e=n.component;t(n,11,0,e.fromDate),t(n,21,0,e.selectedIndex),t(n,25,0,e.data.shifts.items),t(n,32,0,"primary")},function(t,n){t(n,8,0,n.component.data.date,l["\u0275nov"](n,13).ngClassUntouched,l["\u0275nov"](n,13).ngClassTouched,l["\u0275nov"](n,13).ngClassPristine,l["\u0275nov"](n,13).ngClassDirty,l["\u0275nov"](n,13).ngClassValid,l["\u0275nov"](n,13).ngClassInvalid,l["\u0275nov"](n,13).ngClassPending),t(n,18,0,l["\u0275nov"](n,23).ngClassUntouched,l["\u0275nov"](n,23).ngClassTouched,l["\u0275nov"](n,23).ngClassPristine,l["\u0275nov"](n,23).ngClassDirty,l["\u0275nov"](n,23).ngClassValid,l["\u0275nov"](n,23).ngClassInvalid,l["\u0275nov"](n,23).ngClassPending),t(n,28,0,l["\u0275nov"](n,29).disabled||null,"NoopAnimations"===l["\u0275nov"](n,29)._animationMode),t(n,31,0,l["\u0275nov"](n,32).disabled||null,"NoopAnimations"===l["\u0275nov"](n,32)._animationMode)})}function y(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-add-shift-dialog",[],null,null,null,v,m)),l["\u0275did"](1,114688,null,0,d.a,[h.k,p.a,f.a,h.a],null,null)],function(t,n){t(n,1,0)},null)}var b=l["\u0275ccf"]("app-add-shift-dialog",d.a,y,{},{},[])},p3Bg:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("wd/R"),i=(e("dJ3e"),e("JVmr"),e("jvvO"),function(){function t(t,n,e,i){var a=this;this.dialogRef=t,this.amsEffectiveShiftService=n,this.uxService=e,this.data=i,this.date=new Date,this.dialogRef.afterOpen().subscribe(function(){a.fromDate=l(a.data.date).format("YYYY-MM-DD")})}return t.prototype.changeShift=function(t){var n=this,e={date:t,shiftType:this.data.shifts.items[parseInt(this.selectedIndex)]};l(t).startOf("day").toISOString()>=l(this.date).startOf("day").toISOString()&&this.amsEffectiveShiftService.update(this.data.empId,e).subscribe(function(t){n.uxService.showInfo("Shift Changed")}),this.dialogRef.close(this.updated=!0)},t.prototype.onCancel=function(){this.dialogRef.close(!1)},t.prototype.ngOnInit=function(){},t}())},tJZq:function(t,n,e){"use strict";e.d(n,"a",function(){return l}),e("A/U7"),e("Agim");var l=function(){function t(t){this.dates=t}return t.prototype.ngOnInit=function(){this.attendance.late&&(this.late=this.attendance.late.toString())},t}()},uI9x:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("CcnG"),i=(e("SQ3M"),function(){function t(t){this.api=t,this.placeholder="Select Category",this.change=new l.EventEmitter,this.items=[]}return t.prototype.ngOnInit=function(){var t=this;this.api.search().subscribe(function(n){t.items=n.items,t.category&&(t.selectedCategory=t.items.find(function(n){return n.id===t.category}),t.onSelect({value:t.selectedCategory}))})},t.prototype.onSelect=function(t){this.selectedCategory=t.value,this.change.emit(this.selectedCategory)},t}())},uj95:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["date","name","code","departments","divisions","designations","contractors","userTypes","supervisor"],pageOptions:{limit:10}})||this;return l.api=n,l.readonly=!1,l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.date&&this.filters.set("date",this.date),this.name&&this.filters.set("name",this.name),this.code&&this.filters.set("code",this.code),this.userTypes&&this.filters.set("userTypes",this.userTypes),this.department&&this.filters.set("departments",this.department),this.division&&this.filters.set("divisions",this.division),this.designation&&this.filters.set("designations",this.designation),this.contractor&&this.filters.set("contractors",this.contractor),this.supervisor?this.filters.set("supervisor",this.supervisor):this.filters.set("date",(new Date).toISOString()),this.fetch()},n.prototype.ngOnDestroy=function(){},n.prototype.onSelect=function(t){this.selected.emit(t)},n}(e("jvvO").e));e("2DO4"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e,l){var i=t.call(this,n,l)||this;return i.dialog=e,i.columns=["user","designation","shift","status","checkIn","checkOut"],i}return l.__extends(n,t),n}(i)},ulpp:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["name","category"]})||this;return l.readonly=!1,l.sort="code",l}return l.__extends(n,t),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.fetch()},n.prototype.ngOnDestroy=function(){},n}(e("jvvO").e));e("DeCb"),e.d(n,"a",function(){return a});var a=function(t){function n(n,e,l){var i=t.call(this,e,l)||this;return i.dialog=n,i.uxService=l,i.view="table",i}return l.__extends(n,t),n.prototype.onNoClick=function(){this.dialogRef.close()},n.prototype.openDialog=function(t){var n=this;this.uxService.onConfirm({message:"This would remove the leave rule. Are you sure?",okTitle:"Yes"}).subscribe(function(){n.remove(t),n.uxService.showInfo("Deleted")})},n}(i)},un7U:function(t,n,e){"use strict";var l=e("mrSG"),i=e("CcnG"),a=e("wd/R"),o=function(t){function n(n,e){var l=t.call(this,{errorHandler:e,api:n,pageOptions:{limit:10},filters:["fromDate","toDate","user-code"]})||this;return l.change=new i.EventEmitter,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(){this.fetchAttendance()},n.prototype.fetchAttendance=function(){var t=this;this.fromDate&&this.toDate?(this.filters.properties.fromDate.value=this.fromDate,this.filters.properties.toDate.value=this.toDate):(this.date||(this.date=new Date),this.filters.properties.fromDate.value=a(this.date).startOf("month").toDate(),this.filters.properties.toDate.value=a(this.date).endOf("month").toDate()),this.userCode&&(this.filters.properties["user-code"].value=this.userCode),this.fetch().subscribe(function(n){t.items=n.items,t.afterProcessing&&t.afterProcessing()})},n.prototype.onDateChange=function(t){this.date=t,this.fetchAttendance()},n.prototype.ngOnDestroy=function(){},n}(e("jvvO").e),s=e("A/U7");e("VyMv"),e.d(n,"a",function(){return u});var u=function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.headArray=[],l.events=[],l.legends=[],l.calendarOptions={hideMonth:!0,hideNavigation:!0},l.afterProcessing=function(){l.legends=[{label:"Present",status:"success"},{label:"On Leave",status:"info"},{label:"Holiday",status:"disabled"},{label:"Absent",status:"warn"}],l.events=l.items.map(function(t){var n="default";switch(t.status){case"present":n="success";break;case"absent":n="warn";break;case"onLeave":n="info";break;case"holiday":n="disabled"}return{id:t.id,date:t.ofDate,start:{title:"In",time:t.checkIn,status:t.checkInStatus},end:{title:"Out",time:t.checkOut,status:t.checkOutStatus},status:n,color:""}})},l}return l.__extends(n,t),n.prototype.onSelect=function(t){this.selected.emit(new s.a(t.items&&t.items.length?{id:t.items[0].id,ofDate:t.date}:{ofDate:t.date}))},n}(o)},ure7:function(t,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return u});var l=e("CcnG"),i=(e("u7R8"),e("Fzqc"),e("Wf4p")),a=(e("ZYjt"),e("dWZg")),o=e("wFw1"),s=(e("lLAP"),l["\u0275crt"]({encapsulation:2,styles:[".mat-button-toggle-group,.mat-button-toggle-standalone{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}@media (-ms-high-contrast:active){.mat-button-toggle-group,.mat-button-toggle-standalone{outline:solid 1px}}.mat-button-toggle-group-appearance-standard,.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{border-radius:4px}@media (-ms-high-contrast:active){.mat-button-toggle-group-appearance-standard,.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}@media (-ms-high-contrast:active){.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media (-ms-high-contrast:active){.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}}@media (hover:none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}@media (-ms-high-contrast:active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}}@media (-ms-high-contrast:active){.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:0 0;color:inherit;padding:0;margin:0;font:inherit;outline:0;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],data:{}}));function u(t){return l["\u0275vid"](2,[l["\u0275qud"](402653184,1,{_buttonElement:0}),(t()(),l["\u0275eld"](1,0,[[1,0],["button",1]],null,2,"button",[["class","mat-button-toggle-button"],["type","button"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-pressed",0],[8,"disabled",0],[1,"name",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component._onButtonClick()&&l),l},null,null)),(t()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","mat-button-toggle-label-content"]],null,null,null,null,null)),l["\u0275ncd"](null,0),(t()(),l["\u0275eld"](4,0,null,null,0,"div",[["class","mat-button-toggle-focus-overlay"]],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,1,"div",[["class","mat-button-toggle-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),l["\u0275did"](6,212992,null,0,i.x,[l.ElementRef,l.NgZone,a.a,[2,i.m],[2,o.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,n){var e=n.component;t(n,6,0,e.disableRipple||e.disabled,l["\u0275nov"](n,1))},function(t,n){var e=n.component;t(n,1,0,e.buttonId,e.disabled?-1:e.tabIndex,e.checked,e.disabled||null,e.name||null,e.ariaLabel,e.ariaLabelledby),t(n,5,0,l["\u0275nov"](n,6).unbounded)})}},wHz4:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("CcnG")),a=e("wd/R"),o=e("jvvO"),s=e("05It"),u=e("BRc0"),r=e("Toh8"),c=e("Gh+a"),d=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e})||this;return l.api=n,l.errorHandler=e,l.balance=new u.b,l.type=new r.a,l.message="",l.change=new i.EventEmitter,l.startDate="",l.endDate="",l.enable={start:{date:!1,first:!0,second:!0},end:{date:!1,first:!0,second:!0},durations:{multi:!1,single:!1,half:!1,oneThird:!1,twoThird:!1}},l.canCreate=!1,l}return l.__extends(n,t),n.prototype.ngOnChanges=function(){},n.prototype.ngOnDestroy=function(){},n.prototype.filterJournals=function(t,n){return t.filter(function(t){return t&&!t.consumed&&t.meta&&t.meta.date&&a().diff(a(t.meta.date),"days")<n})},n.prototype.eligibleToTakeEL=function(){return!0},n.prototype.ngOnInit=function(){this.isProcessing=!0,this.limit=-1,this.type=this.type||this.balance.leaveType,this.type.unlimited?this.type.monthlyLimit&&(this.limit=this.type.monthlyLimit,this.limitLabel=this.limit+" day(s)"):this.type.monthlyLimit?this.balance.days<this.type.monthlyLimit?(this.limit=this.balance.days,this.limitLabel=this.limit+" day(s)"):(this.limit=this.type.monthlyLimit,this.limitLabel=this.limit+" of "+this.balance.days+" day(s))"):(this.limit=this.balance.days,this.limitLabel=this.limit+" day(s)"),0===this.limit&&(this.limitLabel="out of stock"),this.journals=this.filterJournals(this.balance.journals,this.balance.leaveType.expiresAfter||0)||[],this.leave=new c.a,this.leave.leaveType=this.type,this.leave.start={first:!0,second:!0},this.leave.end={first:!0,second:!0},"el"!==this.type.code||this.eligibleToTakeEL()||(this.enable.start.date=!1,this.limitLabel="Can be used after 240 days of joining",this.limit=0),0!==this.limit&&(this.enable.start.date=!0,this.limit>1||-1===this.limit?(this.enable.durations.multi=!0,this.enable.durations.single=!0,this.duration="single",this.enableControls("duration")):1===this.limit?(this.enable.durations.single=!0,this.duration="single",this.enableControls("duration")):this.limit<1&&(this.duration="half",this.enableControls("duration")),2===this.type.unitsPerDay&&(this.enable.durations.half=!0),3===this.type.unitsPerDay&&(this.enable.durations.oneThird=!0,this.enable.durations.twoThird=!0),6===this.type.unitsPerDay&&(this.enable.durations.oneThird=!0,this.enable.durations.twoThird=!0,this.enable.durations.half=!0)),this.isProcessing=!1},n.prototype.enableControls=function(t){switch(this.duration){case"multi":this.enable.start.first=!0,this.enable.end.second=!0,this.enable.end.first=!1,this.enable.start.second=!1,"duration"===t&&(this.leave.start.first=!0,this.leave.start.second=!0,this.leave.end.first=!0,this.leave.end.second=!0),this.enable.end.date=!!this.leave.date;break;case"single":this.enable.start.first=!1,this.enable.start.second=!1,this.enable.end.first=!1,this.enable.end.second=!1,this.enable.end.date=!1,"duration"===t&&(this.leave.start.first=!0,this.leave.start.second=!0);break;case"half":case"oneThird":this.enable.start.first=!0,this.enable.start.second=!0,this.enable.end.first=!1,this.enable.end.second=!1,this.enable.end.date=!1,"duration"===t&&(this.leave.start.first=!0,this.leave.start.second=!1),"start.first"===t?this.leave.start.second=!this.leave.start.first:"start.second"===t&&(this.leave.start.first=!this.leave.start.second);break;case"twoThird":this.enable.start.first=!0,this.enable.start.second=!0,this.enable.end.first=!1,this.enable.end.second=!1,this.enable.end.date=!1,"start.first"===t?this.leave.start.second=!this.leave.start.first:"start.second"===t&&(this.leave.start.first=!this.leave.start.second)}},n.prototype.startDateChanged=function(){this.startDate||(this.leave.date=null),this.leave.date=a(this.startDate).toDate(),this.changed()},n.prototype.endDateChanged=function(){this.endDate||(this.leave.toDate=null),this.leave.toDate=a(this.endDate).toDate(),this.changed()},n.prototype.jouranlSelection=function(t){this.leave.journal=this.journals.find(function(n){return n.meta.date===t?n:""}),this.changed()},n.prototype.changed=function(t){switch(this.error=null,this.enableControls(t),this.leave.days=0,this.duration){case"multi":this.canCreate=!!this.leave.date&&!!this.leave.toDate,this.leave.toDate<=this.leave.date&&(this.canCreate=!1,this.error="Till Date needs to be after From Date"),this.leave.start.first=this.leave.start.first,this.leave.start.second=this.leave.start.second,this.leave.end.first=this.leave.end.first,this.leave.end.second=this.leave.end.second,this.canCreate&&(this.leave.days=this.dates.date(this.leave.toDate).diff(this.leave.date),this.leave.start.first||(this.leave.days=this.leave.days-.5),this.leave.end.second||(this.leave.days=this.leave.days-.5));break;case"single":this.canCreate=!!this.leave.date,this.leave.days=1;break;case"twoThird":this.canCreate=!!this.leave.date&&(!this.leave.start.first&&this.leave.start.second||this.leave.start.first&&!this.leave.start.second),this.leave.days=2/3,this.leave.start.first=this.leave.start.first,this.leave.start.second=this.leave.start.second;break;case"half":this.canCreate=!!this.leave.date&&(!this.leave.start.first&&this.leave.start.second||this.leave.start.first&&!this.leave.start.second),this.leave.days=.5,this.leave.start.first=this.leave.start.first,this.leave.start.second=this.leave.start.second;break;case"oneThird":this.canCreate=!!this.leave.date&&(!this.leave.start.first&&this.leave.start.second||this.leave.start.first&&!this.leave.start.second),this.leave.days=1/3,this.leave.start.first=this.leave.start.first,this.leave.start.second=this.leave.start.second}this.type.monthlyLimit&&this.leave.days>this.type.monthlyLimit?(this.canCreate=!1,this.error="There is a capping of '"+this.type.monthlyLimit+"' day(s)"):"Medical Leave"===this.type.name&&this.leave.days>3?(this.canCreate=!1,this.error="You cannot apply more that 3 day(s)"):!this.type.unlimited&&this.leave.days>this.balance.days&&(this.canCreate=!1,this.error="You cannot apply more that '"+this.balance.days+"' day(s)"),this.canCreate?(this.leave.employee=new s.a({code:this.code}),this.change.emit(this.leave)):this.change.emit(null)},n.prototype.explain=function(){},n}(o.b);e("DeCb"),e.d(n,"a",function(){return h});var h=function(t){function n(n,e,l){var i=t.call(this,n,e)||this;return i.uxService=e,i.validationService=l,i}return l.__extends(n,t),n}(d)},wIVH:function(t,n,e){"use strict";var l=e("CcnG"),i=e("Mr+X"),a=e("SMsm"),o=e("Ip0R"),s=e("ZYCi");e("caPl"),e("ODqr"),e("SHQ0"),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return C});var u=l["\u0275crt"]({encapsulation:0,styles:[[".customMarginLR[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.active-link[_ngcontent-%COMP%]{background:var(--accent);color:#fff}.fab-link[_ngcontent-%COMP%]{background:#fff;text-align:center;height:110px;width:110px;border-radius:50%;padding-top:20px;box-shadow:0 0 40px -6px rgba(0,0,0,.2),0 1px 3px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);cursor:pointer;margin:30px auto 10px}.icon[_ngcontent-%COMP%]{width:40px}.fab-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.mainCircle[_ngcontent-%COMP%]{margin-right:20px}.fab-link[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:11px;padding-left:8px;padding-right:8px}.fab-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;display:table;margin-right:auto}.fab-link[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{display:none}.fab-link[_ngcontent-%COMP%]   .in-active[_ngcontent-%COMP%]{display:table}.fab-link[_ngcontent-%COMP%]:hover{background:var(--accent)}.fab-link[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%], .fab-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.fab-link[_ngcontent-%COMP%]:hover   .active[_ngcontent-%COMP%]{display:table}.fab-link[_ngcontent-%COMP%]:hover   .in-active[_ngcontent-%COMP%]{display:none}"]],data:{}});function r(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),l["\u0275did"](1,9158656,null,0,a.b,[l.ElementRef,a.d,[8,null],[2,a.a]],null,null),(t()(),l["\u0275ted"](2,0,["",""]))],function(t,n){t(n,1,0)},function(t,n){t(n,0,0,l["\u0275nov"](n,1).inline,"primary"!==l["\u0275nov"](n,1).color&&"accent"!==l["\u0275nov"](n,1).color&&"warn"!==l["\u0275nov"](n,1).color),t(n,2,0,n.parent.parent.parent.context.$implicit.icon.mat)})}function c(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"icon fa fa-2x fa-",n.parent.parent.parent.context.$implicit.icon.fa,""))})}function d(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"img",[["class","icon in-active"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"",n.parent.parent.parent.context.$implicit.icon.url,""))})}function h(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"img",[["class","icon active"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"",n.parent.parent.parent.context.$implicit.icon.url,""))})}function p(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","fab-link"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,10,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,r)),l["\u0275did"](3,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](5,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](7,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](9,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](10,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),l["\u0275ted"](11,null,["",""]))],function(t,n){t(n,3,0,n.parent.parent.context.$implicit.icon.mat),t(n,5,0,n.parent.parent.context.$implicit.icon.fa),t(n,7,0,n.parent.parent.context.$implicit.icon.url),t(n,9,0,n.parent.parent.context.$implicit.icon.url)},function(t,n){t(n,1,0,n.parent.parent.context.$implicit.url),t(n,11,0,n.parent.parent.context.$implicit.title)})}function f(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),l["\u0275did"](1,9158656,null,0,a.b,[l.ElementRef,a.d,[8,null],[2,a.a]],null,null),(t()(),l["\u0275ted"](2,0,["",""]))],function(t,n){t(n,1,0)},function(t,n){t(n,0,0,l["\u0275nov"](n,1).inline,"primary"!==l["\u0275nov"](n,1).color&&"accent"!==l["\u0275nov"](n,1).color&&"warn"!==l["\u0275nov"](n,1).color),t(n,2,0,n.parent.parent.parent.context.$implicit.icon.mat)})}function m(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"icon fa fa-2x fa-",n.parent.parent.parent.context.$implicit.icon.fa,""))})}function g(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"img",[["class","icon in-active"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"",n.parent.parent.parent.context.$implicit.icon.url,""))})}function v(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"img",[["class","icon active"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"",n.parent.parent.parent.context.$implicit.icon.url,""))})}function y(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","fab-link"],["tabindex","-1"]],null,[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](t,1).onClick()&&i),i},null,null)),l["\u0275did"](1,16384,null,0,s.m,[s.l,s.a,[8,"-1"],l.Renderer2,l.ElementRef],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(t()(),l["\u0275eld"](2,0,null,null,10,"a",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](6,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](8,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](10,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](11,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),l["\u0275ted"](12,null,["",""]))],function(t,n){t(n,1,0,n.parent.parent.context.$implicit.queryParams,n.parent.parent.context.$implicit.routerLink),t(n,4,0,n.parent.parent.context.$implicit.icon.mat),t(n,6,0,n.parent.parent.context.$implicit.icon.fa),t(n,8,0,n.parent.parent.context.$implicit.icon.url),t(n,10,0,n.parent.parent.context.$implicit.icon.url)},function(t,n){t(n,12,0,n.parent.parent.context.$implicit.title)})}function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","mainCircle"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](2,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,2,0,n.parent.context.$implicit.url),t(n,4,0,!n.parent.context.$implicit.url&&n.parent.context.$implicit.routerLink&&n.parent.context.$implicit.routerLink.length)},null)}function S(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](2,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](0,null,null,0))],function(t,n){t(n,2,0,n.component.auth.hasPermission(n.context.$implicit.permissions))},null)}function C(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","flex-row eight customMarginLR"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,S)),l["\u0275did"](2,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.items)},null)}},x1iR:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("mrSG"),i=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="",n.name="",n.code="",n.startTime="",n.endTime="",n.grace=new a,n.department="",n.breakTime=30,n.isDynamic=!1,n.autoExtend=!1,n.monday="full",n.tuesday="full",n.wednesday="full",n.thursday="full",n.friday="full",n.saturday="off",n.sunday="off",n.changeType="now",n.status="",n}return l.__extends(n,t),n}(e("VHBb").a),a=function(){return function(){this.checkIn=new o,this.checkOut=new s}}(),o=function(){return function(){this.early=30,this.late=30}}(),s=function(){return function(){this.early=0,this.late=30}}()},yTKr:function(t,n,e){"use strict";var l=e("CcnG"),i=e("gIcY"),a=e("bujt"),o=e("UodH"),s=e("dWZg"),u=e("lLAP"),r=e("wFw1"),c=e("Mr+X"),d=e("SMsm"),h=e("Ip0R"),p=e("dXhc"),f=e("f97T"),m=e("0j2b"),g=e("o3x0");e.d(n,"a",function(){return C});var v=l["\u0275crt"]({encapsulation:0,styles:[["tr.invalid[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:red}.container[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:hidden}.header[_ngcontent-%COMP%]{color:#fff;background-color:#2d3349!important;margin-top:-24px!important;margin-left:-24px!important;margin-right:-24px!important}[_ngcontent-%COMP%]::webkit-scrollbar{display:none!important}h5[_ngcontent-%COMP%]{text-align:center;font-weight:bolder;font-size:20px}.btn[_ngcontent-%COMP%]{margin-right:5px;margin-left:5px}.mat-icon[_ngcontent-%COMP%]{border:none;box-shadow:none;background-color:0,0}"]],data:{}});function y(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,42,"tr",[],[[2,"invalid",null]],null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,3)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,3).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,3)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,3)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(t.context.$implicit.code=e)&&i),"change"===n&&(i=!1!==a.validate(t.context.$implicit)&&i),i},null,null)),l["\u0275did"](3,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](5,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](7,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](8,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](9,0,null,null,5,"input",[["class","form-control"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,10)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,10).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,10)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,10)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(t.context.$implicit.date=e)&&i),"change"===n&&(i=!1!==a.validate(t.context.$implicit)&&i),i},null,null)),l["\u0275did"](10,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](12,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](14,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](15,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](16,0,null,null,5,"input",[["class","form-control"],["type","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,a=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,17)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,17).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,17)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,17)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(t.context.$implicit.time=e)&&i),"change"===n&&(i=!1!==a.validate(t.context.$implicit)&&i),i},null,null)),l["\u0275did"](17,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.d]),l["\u0275did"](19,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](21,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](22,0,null,null,14,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](23,0,null,null,13,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var i=!0,a=t.component;return"change"===n&&(i=!1!==l["\u0275nov"](t,24).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,24).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(t.context.$implicit.type=e)&&i),"change"===n&&(i=!1!==a.validate(t.context.$implicit)&&i),i},null,null)),l["\u0275did"](24,16384,null,0,i.w,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,i.n,function(t){return[t]},[i.w]),l["\u0275did"](26,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.o,null,[i.s]),l["\u0275did"](28,16384,null,0,i.p,[[4,i.o]],null,null),(t()(),l["\u0275eld"](29,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](30,147456,null,0,i.t,[l.ElementRef,l.Renderer2,[2,i.w]],{value:[0,"value"]},null),l["\u0275did"](31,147456,null,0,i.D,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),l["\u0275ted"](-1,null,["In"])),(t()(),l["\u0275eld"](33,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](34,147456,null,0,i.t,[l.ElementRef,l.Renderer2,[2,i.w]],{value:[0,"value"]},null),l["\u0275did"](35,147456,null,0,i.D,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),l["\u0275ted"](-1,null,["Out"])),(t()(),l["\u0275eld"](37,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),l["\u0275eld"](38,0,null,null,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.remove(t.context.$implicit)&&l),l},a.d,a.b)),l["\u0275did"](39,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],null,null),(t()(),l["\u0275eld"](40,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,c.b,c.a)),l["\u0275did"](41,9158656,null,0,d.b,[l.ElementRef,d.d,[8,null],[2,d.a]],null,null),(t()(),l["\u0275ted"](-1,0,["remove_circle_outline"]))],function(t,n){t(n,5,0,n.component.data.empCode,n.context.$implicit.code),t(n,12,0,n.context.$implicit.date),t(n,19,0,n.context.$implicit.time),t(n,26,0,n.context.$implicit.type),t(n,30,0,"checkIn"),t(n,31,0,"checkIn"),t(n,34,0,"checkOut"),t(n,35,0,"checkOut"),t(n,41,0)},function(t,n){t(n,0,0,n.context.$implicit.isInValid),t(n,2,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending),t(n,9,0,l["\u0275nov"](n,14).ngClassUntouched,l["\u0275nov"](n,14).ngClassTouched,l["\u0275nov"](n,14).ngClassPristine,l["\u0275nov"](n,14).ngClassDirty,l["\u0275nov"](n,14).ngClassValid,l["\u0275nov"](n,14).ngClassInvalid,l["\u0275nov"](n,14).ngClassPending),t(n,16,0,l["\u0275nov"](n,21).ngClassUntouched,l["\u0275nov"](n,21).ngClassTouched,l["\u0275nov"](n,21).ngClassPristine,l["\u0275nov"](n,21).ngClassDirty,l["\u0275nov"](n,21).ngClassValid,l["\u0275nov"](n,21).ngClassInvalid,l["\u0275nov"](n,21).ngClassPending),t(n,23,0,l["\u0275nov"](n,28).ngClassUntouched,l["\u0275nov"](n,28).ngClassTouched,l["\u0275nov"](n,28).ngClassPristine,l["\u0275nov"](n,28).ngClassDirty,l["\u0275nov"](n,28).ngClassValid,l["\u0275nov"](n,28).ngClassInvalid,l["\u0275nov"](n,28).ngClassPending),t(n,38,0,l["\u0275nov"](n,39).disabled||null,"NoopAnimations"===l["\u0275nov"](n,39)._animationMode),t(n,40,0,l["\u0275nov"](n,41).inline,"primary"!==l["\u0275nov"](n,41).color&&"accent"!==l["\u0275nov"](n,41).color&&"warn"!==l["\u0275nov"](n,41).color)})}function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,[" New Time Log"])),(t()(),l["\u0275eld"](2,0,null,null,0,"div",[["class","row text-center header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,22,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,21,"div",[["mat-dialog-content",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](7,0,null,null,20,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),l["\u0275eld"](8,0,null,null,19,"table",[["class","table table-condensed table-hover"]],null,null,null,null,null)),(t()(),l["\u0275eld"](9,0,null,null,15,"thead",[["class","primary_thead"]],null,null,null,null,null)),(t()(),l["\u0275eld"](10,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](11,0,null,null,1,"th",[["class","text-center"],["width","30%"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Employee(code)"])),(t()(),l["\u0275eld"](13,0,null,null,1,"th",[["class","text-center"],["width","20%"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Day"])),(t()(),l["\u0275eld"](15,0,null,null,1,"th",[["class","text-center"],["width","20%"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Time"])),(t()(),l["\u0275eld"](17,0,null,null,1,"th",[["class","text-center"],["width","20%"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Type"])),(t()(),l["\u0275eld"](19,0,null,null,5,"th",[["class","padding"],["width","10%"]],null,null,null,null,null)),(t()(),l["\u0275eld"](20,0,null,null,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.add()&&l),l},a.d,a.b)),l["\u0275did"](21,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],null,null),(t()(),l["\u0275eld"](22,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,c.b,c.a)),l["\u0275did"](23,9158656,null,0,d.b,[l.ElementRef,d.d,[8,null],[2,d.a]],null,null),(t()(),l["\u0275ted"](-1,0,["control_point"])),(t()(),l["\u0275eld"](25,0,null,null,2,"tbody",[["style","max-height: 200px; overflow-y: scroll;"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](27,278528,null,0,h.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["\u0275eld"](28,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](29,0,null,null,0,"div",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](30,0,null,null,7,"div",[["class","controls-row"],["mat-dialog-actions",""]],null,null,null,null,null)),(t()(),l["\u0275eld"](31,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(t()(),l["\u0275eld"](32,0,null,null,2,"button",[["class","btn"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.save()&&l),l},a.d,a.b)),l["\u0275did"](33,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),l["\u0275ted"](-1,0,["Save"])),(t()(),l["\u0275eld"](35,0,null,null,2,"button",[["class","btn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dialogRef.close(!1)&&l),l},a.d,a.b)),l["\u0275did"](36,180224,null,0,o.b,[l.ElementRef,s.a,u.h,[2,r.a]],null,null),(t()(),l["\u0275ted"](-1,0,["Cancel"])),(t()(),l["\u0275eld"](38,0,null,null,0,"br",[],null,null,null,null,null))],function(t,n){var e=n.component;t(n,23,0),t(n,27,0,e.logs),t(n,33,0,!e.logs.length,"primary")},function(t,n){t(n,20,0,l["\u0275nov"](n,21).disabled||null,"NoopAnimations"===l["\u0275nov"](n,21)._animationMode),t(n,22,0,l["\u0275nov"](n,23).inline,"primary"!==l["\u0275nov"](n,23).color&&"accent"!==l["\u0275nov"](n,23).color&&"warn"!==l["\u0275nov"](n,23).color),t(n,32,0,l["\u0275nov"](n,33).disabled||null,"NoopAnimations"===l["\u0275nov"](n,33)._animationMode),t(n,35,0,l["\u0275nov"](n,36).disabled||null,"NoopAnimations"===l["\u0275nov"](n,36)._animationMode)})}function S(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-bulk-time-logs-dialog",[],null,null,null,b,v)),l["\u0275did"](1,114688,null,0,p.a,[f.a,m.a,g.k,g.a],null,null)],function(t,n){t(n,1,0)},null)}var C=l["\u0275ccf"]("app-bulk-time-logs-dialog",p.a,S,{},{},[])},ysV5:function(t,n,e){"use strict";var l=e("CcnG"),i=e("wd/R"),a=(e("dJ3e"),e("A/U7")),o=e("05It"),s=e("Gh+a"),u=e("uXEg"),r=(e("VyMv"),e("JVmr"),e("vjbc"),e("UR/D"),e("dRND"),e("l/y6"),e("jhhN"),e("Agim"),e("cXs7"));e.d(n,"a",function(){return c});var c=function(){function t(t,n,e,i,a,o,s,u,r,c){var d=this;this.shiftService=t,this.shiftTypesService=n,this.amsEmployeeService=e,this.amsEffectiveShiftService=i,this.toastyService=a,this.amsLeaveService=o,this.amsLeaveBalancesService=s,this.amsAttendanceService=u,this.dates=r,this.auth=c,this.updated=new l.EventEmitter,this.shiftTypes=[],this.view="mini",this.isBeforeToday=!1,this.isProcessing=!1,this.isWeeklyOff=!1,this.isDayOff=!1,this.isOff=!1,this.isPast=!0,this.isToday=!1,this.isRunning=!1,this.isDynamic=!1,this.isAttendance=!1,this.isContinue=!1,this.isShiftOff=!1,this.leaveBalances=[],this.errorText="",this.days=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],this.errorHandler=function(t){d.isProcessing=!1,d.toastyService.handleError({title:"Error",msg:t})}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){this.effectiveShift&&this.compute()},t.prototype.compute=function(){var t=this;this.isDynamic=this.effectiveShift.employee.isDynamicShift,this.employee=this.effectiveShift.employee,this.isPast=i(this.date).isBefore(new Date),this.isToday=i(this.date).isSame(new Date,"d"),this.isBeforeToday=i(this.date).isBefore(new Date,"d"),this.day=this.dates.date(this.date).day(),this.effectiveShift.previousShift&&(this.startingShift=this.effectiveShift.previousShift.shiftType),this.computeEffectiveShift(),this.computeDayShift(),this.leaveSummary=this.amsLeaveService.getDaySummary(this.effectiveShift.leaves,this.date),this.leave=this.leaveSummary.leave,this.attendance=this.effectiveShift.attendances.find(function(n){return t.dates.date(n.ofDate).isSame(t.date)}),this.daySummary=this.amsAttendanceService.getSummary(this.attendance,this.leaveSummary),this.computeWeeklyOff(),this.computeIfRunning(),this.computeError()},t.prototype.computeError=function(){this.errorText=this.attendance&&this.attendance.shift&&this.attendance.shift.shiftType&&this.effectiveShiftType&&this.effectiveShiftType.id!==this.attendance.shift.shiftType.id?"Wrong Shift - "+this.attendance.shift.shiftType.name:null},t.prototype.computeEffectiveShift=function(){var t,n=this;this.effectiveShiftType=this.startingShift,this.effectiveShift.shifts.forEach(function(e){var l=i(e.date);l.isAfter(n.date,"d")||t&&!l.isAfter(t)||(t=l.toDate(),n.effectiveShiftType=e.shiftType)})},t.prototype.computeDayShift=function(){var t=this;this.dayShiftType=this.effectiveShiftType;var n=new Date(this.date);n.setHours(0,0,0,0),this.effectiveShift.shifts.forEach(function(e){var l=new Date(e.date);l.setHours(0,0,0,0),l.getTime()===n.getTime()&&(t.selectedShift=e,t.shiftTypes.forEach(function(n){n.id===t.selectedShift.shiftType.id&&(t.selectedShift.shiftType=n,t.selectedShiftType=n,t.dayShiftType=n)}))})},t.prototype.computeWeeklyOff=function(){this.isOff=!1,this.isWeeklyOff=!1,this.isDayOff=!1,this.isPast&&this.attendance?"weekOff"!==this.attendance.status&&"weeklyOff"!==this.attendance.shift.status||(this.isDayOff=!0):this.isPast||(!this.attendance||"weekOff"!==this.attendance.status&&"weeklyOff"!==this.attendance.shift.status?"off"===this.dayShiftType[this.day]?(this.isWeeklyOff=!0,this.isShiftOff=!0):this.employee.weeklyOff&&this.employee.weeklyOff.isConfigured&&(this.isWeeklyOff=this.employee.weeklyOff[this.day]):this.isDayOff=!0),this.isOff=this.isWeeklyOff||this.isDayOff},t.prototype.stopPropagation=function(t){t.stopPropagation()},t.prototype.shiftColour=function(){return this.shiftTypesService.shiftColour(this.selectedShiftType||this.effectiveShiftType)},t.prototype.resetShift=function(){var t=this;this.selectedShift&&this.selectedShift.shiftType&&(this.isProcessing=!0,this.amsEffectiveShiftService.remove(this.selectedShift.id).subscribe(function(){var n=t.effectiveShift.shifts.findIndex(function(n){return n.id===t.selectedShift.id});t.effectiveShift.shifts.splice(n,1),t.selectedShiftType=null,t.compute(),t.updated.next(),t.isProcessing=!1}))},t.prototype.repair=function(){var t=this;this.isProcessing=!0,this.amsAttendanceService.post({id:this.attendance.id,removeWeekOff:!1,adjustTimeLogs:!0,recalculateShift:!0},"regenerate").subscribe(function(n){t.isProcessing=!1,t.attendance=n,t.computeError()})},t.prototype.setDayOff=function(){var t=this;if(this.isProcessing=!0,this.attendance&&"weekOff"===this.attendance.status)this.amsAttendanceService.post({id:this.attendance.id,removeWeekOff:!0},"regenerate").subscribe(function(n){t.attendance.status=n.status,t.compute(),t.updated.next(),t.isProcessing=!1});else{var n=new a.a({});n.employee=new o.a({id:this.employee.id}),n.ofDate=this.date,n.status="weekOff",this.attendance?this.amsAttendanceService.update(this.attendance.id,n).subscribe(function(n){t.attendance.status=n.status,t.compute(),t.updated.next(),t.isProcessing=!1}):this.amsAttendanceService.create(n).subscribe(function(n){var e=new a.a({});e.id=n.id,e.ofDate=i(n.ofDate).toDate(),e.shift=n.shift,e.employee=t.employee,e.status=n.status,t.effectiveShift.attendances=t.effectiveShift.attendances||[],t.effectiveShift.attendances.push(e),t.compute(),t.updated.next(),t.isProcessing=!1})}},t.prototype.setWeeklyOff=function(){var t=this;this.isProcessing=!0;var n=this.effectiveShift.employee;n.weeklyOff[this.day]=!this.isWeeklyOff,this.isWeeklyOff&&(n.weeklyOff.isConfigured=!0),this.amsEmployeeService.update(n.id,n).subscribe(function(){t.selectedShiftType=null,t.compute(),t.updated.next(),t.isProcessing=!1})},t.prototype.getShiftTypes=function(){var t=this;this.shiftTypesService.search({employeeId:this.effectiveShift.employee.id}).subscribe(function(n){t.shiftTypes=n.items,t.isProcessing=!1})},t.prototype.getMenuItems=function(){var t=this;this.isProcessing=!0,this.leave?this.getShiftTypes():(this.getLeaveBalances(function(){t.getShiftTypes()}),this.getAttendance())},t.prototype.getAttendance=function(){},t.prototype.getLeaveBalances=function(t){var n=this,e={id:this.effectiveShift.employee.id,employeeId:this.effectiveShift.employee.id};this.onDutyBalance=null,this.compOffBalance=null,this.leaveBalances=[],this.amsLeaveBalancesService.search(e).subscribe(function(e){n.leaveBalances=[],e.items.forEach(function(t){var e=t.leaveType.code.toLowerCase();!0!==t.leaveType.unlimited||"dl"!==e&&"od"!==e?t.days>=1&&("co"===e?n.compOffBalance=t:n.leaveBalances.push(t)):n.onDutyBalance=t}),t()})},t.prototype.selectShift=function(t){var n=this;if(this.effectiveShiftType&&t&&this.effectiveShiftType.id===t.id)return this.selectedShiftType=null,void(this.selectedShift&&this.selectedShift.shiftType&&this.selectedShift.shiftType.id!==t.id&&this.resetShift());var e={date:this.date,shiftType:t};this.isProcessing=!0,this.amsEffectiveShiftService.update(this.effectiveShift.employee.id,e).subscribe(function(l){n.compute(),n.selectedShiftType=t,e.id=l.id,n.selectedShift=e,n.updated.next(),n.isProcessing=!1})},t.prototype.setOnDuty=function(){this.applyLeave(this.onDutyBalance)},t.prototype.computeIfRunning=function(){var t=this.effectiveShiftType,n=this.date,e=this.dates.date(n).setTime(t.startTime),l=n;this.dates.time(t.endTime).lt(t.startTime)&&(l=this.dates.date(n).nextBod());var a=this.dates.date(l).setTime(t.endTime);this.isRunning=i(new Date).isBetween(i(e),i(a),"s","[]")},t.prototype.toggleContinue=function(){var t=this,n=!this.attendance.isContinue;this.amsAttendanceService.update(this.attendance.id+"/continue",{isContinue:n}).subscribe(function(){t.attendance.isContinue=n,t.toastyService.showInfo("Done")})},t.prototype.extendCurrentShift=function(){var t=this,n=new u.a;n.date=this.date,n.shiftType=this.effectiveShiftType;var e=new u.a;e.date=i(this.date).add(1,"d").toDate(),e.shiftType=this.effectiveShiftType;var l=n.date,a=i(n.shiftType.endTime).format("HH:mm");this.attendance&&this.attendance.checkOutExtend&&(l=i(this.attendance.checkOutExtend).startOf("day").toDate(),a=i(this.attendance.checkOutExtend).format("HH:mm")),this.uxService.openDialog(r.a,{data:{currentShift:n,nextShift:e,date:l,time:a}}).afterClosed().subscribe(function(e){if(e){var l=!1,a=i(n.shiftType.endTime).format("HH:mm").split(":"),o=i(t.date).hours(parseInt(a[0])).minutes(parseInt(a[1])).toDate();i(e).isSame(i(o))&&(l=!0),l?(t.attendance.checkOutExtend=null,t.amsAttendanceService.update(t.attendance.id+"/extendShift",t.attendance),t.toastyService.showInfo("Shift Reset")):(t.attendance.checkOutExtend=e,t.amsAttendanceService.update(t.attendance.id+"/extendShift",t.attendance),t.toastyService.showInfo("Shift Extended"))}})},t.prototype.setCompOff=function(){},t.prototype.applyLeave=function(t){},t.prototype.setOnLeave=function(t,n){var e=this,l=new s.a;l.date=this.date,l.toDate=this.date,l.days=1,l.reason=n,l.status="approved",l.leaveType=t.leaveType,l.employee=this.employee,this.isProcessing=!0,this.amsLeaveService.create(l).subscribe(function(t){e.leave=t,e.effectiveShift.leaves=e.effectiveShift.leaves||[],e.effectiveShift.leaves.push(e.leave),e.compute(),e.updated.next(),e.isProcessing=!1})},t.prototype.resetLeave=function(){var t=this;this.leave&&(this.isProcessing=!0,this.leave.status="rejected",this.amsLeaveService.update(this.leave.id+"/action",this.leave,null).subscribe(function(n){t.effectiveShift.leaves=t.effectiveShift.leaves||[];var e=t.effectiveShift.leaves.findIndex(function(n){return n.id===t.leave.id});t.effectiveShift.leaves.splice(e,1),t.compute(),t.updated.next(),t.isProcessing=!1}))},t}()},yzdN:function(t,n,e){"use strict";var l=e("mrSG"),i=(e("dJ3e"),e("wd/R")),a=function(t){function n(n,e){var l=t.call(this,{api:n,errorHandler:e,filters:["fromDate","code"],pageOptions:{limit:1}})||this;return l.api=n,l.errorHandler=e,l.date=new Date,l.dateArray=[],l}return l.__extends(n,t),n.prototype.ngOnChanges=function(){var t=this;this.filters.set("fromDate",this.date?this.date:new Date),this.filters.set("code",this.code?this.code:"my"),this.fetch().subscribe(function(){t.init()})},n.prototype.ngOnInit=function(){var t=this;this.filters.set("fromDate",this.date?this.date:new Date),this.filters.set("code",this.code?this.code:"my"),this.fetch().subscribe(function(){t.init()})},n.prototype.init=function(){this.setDates()},n.prototype.setDates=function(){this.dateArray=[];var t=i(this.date).startOf("day");if(this.items.length)for(var n=this.items[0].previousShift.shiftType,e=0;e<7;e++)this.items[0].shifts.forEach(function(e){i(e.date).startOf("day")<=t&&(n=e.shiftType)}),this.dateArray.push({date:t.format("ddd, Do MMM YYYY"),shiftType:n}),t=t.add(1,"day")},n}(e("jvvO").e);e("JVmr"),e.d(n,"a",function(){return o});var o=function(t){function n(n,e){return t.call(this,n,e)||this}return l.__extends(n,t),n}(a)}}]);